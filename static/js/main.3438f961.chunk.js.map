{"version":3,"sources":["../node_modules/@yandex/themekit/lib/vendors/style-dictionary/lib/utils sync","lib/lego/Modal/_view/Modal_view_figma.ts","lib/lego/Modal/Modal.tsx","model/combine.ts","api/downloadTokens.ts","utils/queryParameters.ts","model/themes.ts","model/query.ts","utils/constants.ts","utils/extractParams.ts","utils/transformers.ts","model/mappings.ts","model/designTokens.ts","icons/BackIcon.tsx","icons/CloseEyeIcon.tsx","icons/EllipsesIcon.tsx","icons/UnionIcon.tsx","icons/TipIcon.tsx","icons/TrashIcon.tsx","icons/OpenEyeIcon.tsx","icons/SunIcon.tsx","components/Header/Controls/Controls.tsx","components/Header/Header.tsx","lib/lego/Divider/index.tsx","components/Panel/Panel.tsx","pages/componentsPage/components/Panels/Panels.tsx","components/Textinput/TextinputBase.tsx","components/Textinput/Textinput.tsx","utils/color.ts","utils/tokenType.ts","api/downloadTheme.ts","utils/toDeepToken.ts","model/yaml.ts","model/resolvedTokens.ts","utils/getComponentByName.ts","pages/componentsPage/model.ts","pages/componentsPage/components/Playground/Settings.tsx","components/YaMetrika/YaMetrika.ts","pages/componentsPage/components/Playground/TokenField/ColorPicker/ColorPicker.tsx","pages/componentsPage/components/Playground/TokenField/Inputs/Color/Color.tsx","pages/componentsPage/components/Playground/TokenField/Inputs/Link/Link.tsx","pages/componentsPage/components/Playground/TokenField/Inputs/Text/Text.tsx","pages/componentsPage/components/Playground/TokenField/TokenPrevious/TokenPrevious.tsx","pages/componentsPage/components/Playground/TokenField/TokenField.tsx","pages/componentsPage/components/Playground/ExpandButton/ExpandButton.tsx","pages/componentsPage/components/Playground/Tokens/Tokens.tsx","pages/componentsPage/components/Playground/Code.tsx","pages/componentsPage/components/Playground/Playground.tsx","pages/componentsPage/components/TokenEditor/model.ts","pages/componentsPage/components/TokenEditor/TokenEditor.tsx","model/css.ts","model/dark.ts","model/view.ts","pages/componentsPage/components/Showcase/Showcases/Overview/Headline/Headline.tsx","hooks/dragToFigma.ts","utils/figma.ts","pages/componentsPage/components/ComponentWrapper/ComponentWrapper.tsx","utils/getWrappedComponent.ts","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/ButtonShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/CheckboxShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/HeaderShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/LinkShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/MenuShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/ProgressShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/RadioboxShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/RadioButtonShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/SpinShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TextareaShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TextinputShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TextShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TooltipShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TumblerShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Overview.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/AttachShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/BadgeShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/ButtonGroupShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/DividerShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/MessageBoxShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/TabsMenuShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/UserPicShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/Overview/Showcases/SliderShowcase.tsx","pages/componentsPage/components/Showcase/Showcases/index.ts","components/IconButton/IconButtonBase.tsx","components/IconButton/buttons/EyeIconButton.tsx","components/IconButton/buttons/SunIconButton.tsx","pages/componentsPage/components/Showcase/Showcase.tsx","utils/combinations.ts","pages/componentsPage/ComponentsPage.tsx","model/tokensText.ts","api/uploadTokens.ts","model/share-tokens.ts","pages/changesPage/Tokens/Tokens.tsx","pages/changesPage/ChangesPage.tsx","App.tsx","index.tsx","lib/lego/TabsMenu/index.ts","lib/lego/TabsMenu/TabsMenu.tsx","lib/lego/Tooltip/Tooltip.tsx","lib/lego/TabsMenu/_view/TabsMenu_view_figma.ts","lib/lego/Tooltip/_view/Tooltip_view_figma.ts","lib/lego/Tooltip/_dark/Tooltip_dark.ts","lib/lego/Tooltip/index.ts"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","withViewFigma","withBemMod","view","Modal","compose","withThemeNormal","ModalDesktop","defaultProps","isCombineChange","createEvent","isCombineReset","$isCombine","createStore","on","state","reset","downloadTokens","tokensHash","a","fetch","method","body","JSON","stringify","response","json","ok","errorMessage","parse","getLocation","window","location","href","replace","search","getQueryParameter","name","URLSearchParams","get","themeToAllTokens","theme","globals","Object","values","components","reduce","acc","val","themeChange","$themes","default","tokens","stylesDataDefault","mappings","mappingsDataDefault","preset","themeDefault","allTokens","inverse","stylesDataInverse","mappingsDataInverse","themeInverse","brand","stylesDataBrand","mappingsDataBrand","themeBrand","$theme","map","themes","getState","$themeName","_","themeName","tokensQueryParameterUpdate","value","queryParams","set","history","pushState","toString","setQueryParameter","delete","query","deleteQueryParameter","PARAM_DASH_RE","PARAM_DOT_RE","BRACES_REMOVAL_RE","extractParams","template","params","String","match","el","token","transformMappings","inverted","$tokenMappings","entries","path","mappedName","join","$invertedTokenMappings","variablesChange","variablesChangeBatch","variablesReset","isVariablesChangedReset","$designTokens","$hasTokens","length","$listDesignTokens","$dotSepDesignTokens","combine","designTokens","$isVariablesChanged","variablesInitializationGate","createGate","initializeVariables","createEffect","toast","success","error","ret","forEach","v","watch","forward","from","open","to","console","log","CloseEyeIcon","type","props","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","EllipsesIcon","fillOpacity","UnionIcon","className","TipIcon","TrashIcon","OpenEyeIcon","SunIcon","Controls","scopeRef","useRef","useState","visible","setVisible","isCombine","useStore","changesPresent","handleClose","ref","onClick","scope","onClose","color","onPress","destructive","cnHeader","cn","Header","activeTab","setActiveTab","showChangesNotification","TabsMenu","tabs","content","notify","Divider","cnPanel","Panel","children","active","restProps","focusableProps","useFocusable","cnPanels","panelsTree","allComponents","component","toLocaleLowerCase","defaultSections","Array","includes","toLowerCase","Panels","activePanel","panels","onPanelSelect","setSearch","sections","setSections","onChange","target","renderIcon","placeholder","key","index","section","some","label","checked","prev","i","handleSectionChange","filter","cnTextinput","TextinputBase","tip","has_tip","Boolean","Tooltip","Textinput","Component","multiple","options","onChangeSelectHandler","useCallback","onChangeCheckHandler","onChangeTextHandler","selected","option","optionsMapped","o","unshift","clamp","number","min","max","Math","toHEXA","hex","_color","extract","slice","split","Number","trim","a1","a2","a3","alpha","r","g","b","rgbToHex","h","s","l","f","n","k","round","padStart","hslToHex","fullForm","parseInt","toUpperCase","getType","hasParams","themeboxConfig","output","css","transforms","buildPath","files","destination","format","actions","downloadTheme","build","mapper","whitepaper","entry","platform","properties","parseContent","res","dictionary","allProperties","item","rawValue","original","changed","toDeepToken","prop","chunks","reverse","result","chunk","$yamlText","yml","push","deepmergedYml","deepmerge","all","YAML","$resolvedTokens","resolvedTokensUpdate","resolveTokensFx","resolveTokensAttach","attach","effect","source","mapParams","componentChange","tokenChange","tokenReset","activeTabChange","currentPropsChange","currentCombinedPropsChange","$component","$componentProps","allProps","currentProps","currentCombinedProps","$token","$tokenPresent","getTokenGroups","parts","$tokens","selectedComponent","resolvedChanges","changes","preparedTokens","resultToken","tokenName","baseType","link","isColor","colorValue","groups","defaultValue","groupsCount","group","groupBy","find","$activeTab","currentComponent","uppercasedName","getComponentMetaByName","argTypes","args","newProp","newState","Settings","onChangeProp","handler","required","description","metricaGoal","goal","ym","ColorPicker","shape","anchorRef","handleClick","handleColorChange","event","backgroundColorStyle","useMemo","background","style","direction","anchor","DebounceInput","withDebounceInput","Input","Color","handleLink","_hex","setHex","_alpha","setAlpha","setColor","handleColorChangeDebounced","debounce","useEffect","handleInputChange","combineHexAndAlpha","_handleColorChange","rgb","hsl","convertColorObj","handleLinkHandler","hexChangeHandler","alphaChangeHandler","selectTextOnFocus","setSelectionRange","type_color","debounceTimeout","maxLength","onFocus","Link","type_link","Text","handleChange","type_text","forceNotifyByEnter","forceNotifyOnBlur","data-testid","cnTokenPrevious","TokenPrevious","TokenField","handleTextChange","handleClear","inner","cnExpandButton","ExpandButton","amount","buttonProps","useButton","cnTokens","prettyLabelName","Tokens","tokensGroups","opened","setOpened","groupIndex","tokenIndex","Code","cnPlayground","Playground","handleCombineChange","stopPropagation","disabled","closeEditor","$selectedToken","cnTokenEditor","TokenEditor","readOnly","$cssVariables","$cssText","variables","cssText","darkToggle","$dark","viewChange","$view","$isFigma","initializeView","isFigma","viewInitializationGate","payload","Headline","dark","useDragToFigma","elementRef","dragRef","offsetX","offsetY","iframeX","iframeY","current","dragElem","dragStartHandler","dataTransfer","effectAllowed","setData","currentTarget","innerHTML","dropEffect","screenX","clientX","screenY","clientY","dragEndHandler","windowSize","outerWidth","outerHeight","dropPosition","screenLeft","screenTop","elem","position","htmlToFigma","parent","postMessage","pluginMessage","figmaId","data","layers","sendToFigma","offset","x","y","addEventListener","removeEventListener","cnComponentWrapper","ComponentWrapper","React","forwardRef","__name","componentProps","draggable","createElement","getWrappedComponent","Button","Checkbox","SearchButton","withViewSearchArrowButton","ButtonBase","SearchInput","withHasClear","withViewSearchArrowTextinput","Menu","Progress","Radiobox","RadioButton","Spin","Textarea","Tumbler","componentsMap","badge","display","justifyContent","button","size","marginBottom","flexDirection","alignItems","flexBasis","marginRight","progress","buttonGroup","gaps","undefined","gap","pin","checkbox","indeterminate","divider","header","action","hasClear","pseudo","menu","items","setValue","messageBox","timing","maxValue","radiobox","radioButton","spin","tabsMenu","text","as","whiteSpace","textarea","value1","setValue1","onClearClick","hint","textinput","value2","setValue2","value3","setValue3","value4","setValue4","value5","setValue5","value6","setValue6","padding","tooltip","visible1","setVisible1","visible2","setVisible2","visible3","setVisible3","visible4","setVisible4","visible5","setVisible5","visible6","setVisible6","anchorRef1","anchorRef2","anchorRef3","anchorRef4","anchorRef5","anchorRef6","innerRef","hasTail","tumbler","checked1","setChecked1","checked2","setChecked2","labelBefore","labelAfter","aria-label","userPic","slider","useSliderState","Showcases","overview","componentName","cnIconButtonBase","IconButtonBase","EyeIconButton","close","SunIconButton","cnShowcase","Showcase","showDiff","setShowDiff","cssVariables","handleSunIconClick","componentNormalizedName","cnTheme","combined","variants","isArray","combinedVariants","reduceRight","concat","flat","variant","merge","getVariantsFromProps","variantProps","cnComponentsPage","ComponentsPage","showTokenEditor","panel","rawTokensUpload","$tokensText","uploadRawTokensFx","tokensUpdate","pending","doneData","failData","message","autoClose","uploadTokens","tokensShare","shareTokens","$shareTokensDisabled","hasTokens","copy","setFormat","tokensText","shareDisabled","ChangesPage","configureRootTheme","Fade","cssTransition","enter","exit","useGate","activePane","panes","transition","closeButton","limit","hideProgressBar","ReactDOM","render","StrictMode","document","getElementById","withLayoutHoriz","withAdaptive","composeU","withSizeM","withSizeS","TabsMenuCommon","layout","enhance","withDark","TooltipDesktop","TooltipStateful","TooltipStatefulDesktop"],"mappings":"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","file":"static/js/main.3438f961.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1105;","import { withBemMod } from '@bem-react/core'\n\nimport './Modal_view_figma.css'\n\nexport type ModalViewFigmaProps = {\n  /**\n   *   .\n   */\n  view?: 'figma'\n}\n\n/**\n * ,     .\n * @param {ModalViewFigmaProps} props\n */\nexport const withViewFigma = withBemMod<ModalViewFigmaProps>('Modal', {\n  view: 'figma',\n})\n","import { compose } from '@bem-react/core'\n\n// base\nimport { Modal as ModalDesktop, withThemeNormal } from '@yandex-lego/components/Modal'\n// _view\nimport { withViewFigma } from './_view/Modal_view_figma'\n// _view\n\nexport * from '../Modal'\n\nexport const Modal = compose(withViewFigma, withThemeNormal)(ModalDesktop)\n\nModal.defaultProps = {\n  view: 'figma',\n}\n","import { createEvent, createStore } from 'effector'\n\nexport const isCombineChange = createEvent()\nexport const isCombineReset = createEvent()\n\nexport const $isCombine = createStore(false)\n\n$isCombine.on(isCombineChange, (state) => !state).reset(isCombineReset)\n","import { VariablesType } from '../types'\n\nexport const downloadTokens = async (tokensHash: string | null) => {\n  if (!tokensHash) {\n    return\n  }\n\n  const response = await fetch('https://functions.yandexcloud.net/d4eg1ughq5da8rgfonij', {\n    method: 'POST',\n    body: JSON.stringify({\n      tokensHash,\n    }),\n  })\n\n  const json = await response.json()\n\n  if (!response.ok) {\n    throw new Error(json.errorMessage)\n  }\n\n  return JSON.parse(json) as { tokens: VariablesType[]; theme: string }\n}\n","const getLocation = () => window.location.href.replace(window.location.search, '')\n\nexport const getQueryParameter = (name: string) => {\n  return new URLSearchParams(window.location.search).get(name)\n}\n\nexport const setQueryParameter = (name: string, value: string) => {\n  const queryParams = new URLSearchParams(window.location.search)\n  queryParams.set(name, value)\n\n  window.history.pushState({}, '', `${getLocation()}?${queryParams.toString()}`)\n}\n\nexport const deleteQueryParameter = (name: string) => {\n  const queryParams = new URLSearchParams(window.location.search)\n  queryParams.delete(name)\n\n  const query = queryParams.toString() ? `?${queryParams.toString()}` : ''\n\n  window.history.pushState({}, '', getLocation() + query)\n}\n","import { createStore, createEvent } from 'effector'\n\nimport { theme as themeDefault } from '@yandex-lego/components/Theme/presets/default'\nimport { theme as themeInverse } from '@yandex-lego/components/Theme/presets/inverse'\nimport { theme as themeBrand } from '@yandex-lego/components/Theme/presets/brand'\n\nimport stylesDataDefault from '../themes/presets/example/root.json'\nimport stylesDataInverse from '../themes/presets/example-inverse/root.json'\nimport stylesDataBrand from '../themes/presets/example-brand/root.json'\n\nimport mappingsDataDefault from '../themes/presets/example/mappings.json'\nimport mappingsDataInverse from '../themes/presets/example-inverse/mappings.json'\nimport mappingsDataBrand from '../themes/presets/example-brand/mappings.json'\n\nimport { ThemeType, ThemeNamesType, TokensType } from '../types'\n\nconst themeToAllTokens = (theme: TokensType) => ({\n  ...theme.globals,\n  ...Object.values(theme.components).reduce((acc, val) => ({\n    ...acc,\n    ...val,\n  })),\n})\n\nexport const themeChange = createEvent<ThemeNamesType>()\n\nexport const $themes = createStore<Record<string, ThemeType>>({\n  default: {\n    tokens: stylesDataDefault,\n    mappings: mappingsDataDefault,\n    preset: themeDefault,\n    allTokens: themeToAllTokens(stylesDataDefault),\n  },\n  inverse: {\n    tokens: stylesDataInverse,\n    mappings: mappingsDataInverse,\n    preset: themeInverse,\n    allTokens: themeToAllTokens(stylesDataInverse),\n  },\n  brand: {\n    tokens: stylesDataBrand,\n    mappings: mappingsDataBrand,\n    preset: themeBrand,\n    allTokens: themeToAllTokens(stylesDataBrand),\n  },\n})\n\nexport const $themesNames = $themes.map((themes) => Object.keys(themes))\n\nexport const $theme = createStore<ThemeType>($themes.getState().default)\n\nexport const $themeName = createStore<ThemeNamesType>('default')\n\n$theme.on(themeChange, (_, themeName) => $themes.getState()[themeName])\n\n$themeName.on(themeChange, (_, themeName) => themeName)\n","import { setQueryParameter, deleteQueryParameter } from '../utils/queryParameters'\n\nexport const TOKENS_QUERY_PARAMETER = 'tokens'\n\nexport const tokensQueryParameterUpdate = (tokens?: string) => {\n  if (!tokens) {\n    deleteQueryParameter(TOKENS_QUERY_PARAMETER)\n    return\n  }\n\n  setQueryParameter(TOKENS_QUERY_PARAMETER, tokens)\n}\n","export const COLOR_RE = /color\\(.+\\)/\nexport const PARAM_DASH_RE = /({([a-zA-Z-]+)})/g\nexport const PARAM_DOT_RE = /({([a-zA-Z.]+)})/g\nexport const BRACES_REMOVAL_RE = /[{}]/g\n","import { ParamsType } from '../types'\nimport { PARAM_DASH_RE, BRACES_REMOVAL_RE } from './constants'\n\n/**\n * Get parameters from string.\n *\n * @param value {string} String from which parameters should be retrieved\n * @returns {ParamsType[] | undefined}\n *\n * @example\n *\n * extractParams('{button-bg-color}') // [ { template: '{button-bg-color}', token: 'button-bg-color'} ]\n * extractParams('{width} {height}') // [ {template: '{width}', token: 'width'}, { template: '{height}', token: 'height'} ]\n */\nexport const extractParams = (\n  value: string,\n  template: RegExp = PARAM_DASH_RE,\n): ParamsType[] | undefined => {\n  const params = String(value).match(template)\n\n  if (!params) {\n    return\n  }\n\n  return params.reduce<ParamsType[]>(\n    (acc, el) => [...acc, { template: el, token: el.replace(BRACES_REMOVAL_RE, '') }],\n    [],\n  )\n}\n\nexport const hasParams = (value: string, template: RegExp = PARAM_DASH_RE): boolean => {\n  const params = value.match(template)\n  return Boolean(params)\n}\n","import { PARAM_DASH_RE, PARAM_DOT_RE } from './constants'\nimport { extractParams } from './extractParams'\nimport { MappingsType } from '../types'\n\nexport type TokensType = Record<string, string>\n\nexport function transformMappings(\n  token: string,\n  mappings: MappingsType,\n  inverted: boolean = false,\n): string {\n  const template = !inverted ? PARAM_DASH_RE : PARAM_DOT_RE\n  const params = extractParams(token, template)\n\n  if (!params) {\n    return token\n  }\n\n  return params.reduce((acc, { token }) => {\n    const value = mappings[token] || token\n    return acc.replace(token, value)\n  }, token)\n}\n","import { $theme } from './themes'\nimport { MappingsType } from '../types'\n\n/**\n * Object for design tokens mappings storing\n *\n * @example\n *\n * {\n *  'button-view-action-fill-color-base': 'button.viewAction.fillColor.base.value',\n * }\n */\nexport const $tokenMappings = $theme.map<MappingsType>(({ allTokens }) =>\n  Object.entries(allTokens).reduce((acc, [name, { path }]) => {\n    const mappedName = [...path, 'value'].join('.')\n    return { ...acc, [name]: mappedName }\n  }, {}),\n)\n\n/**\n * Object for design tokens mappings storing\n *\n * @example\n *\n * {\n *  'button.viewAction.fillColor.base.value': 'button-view-action-fill-color-base',\n * }\n */\nexport const $invertedTokenMappings = $theme.map<MappingsType>(({ allTokens }) =>\n  Object.entries(allTokens).reduce((acc, [name, { path }]) => {\n    const mappedName = [...path, 'value'].join('.')\n    return { ...acc, [mappedName]: name }\n  }, {}),\n)\n","import { createStore, createEvent, createEffect, forward, combine, Store } from 'effector'\nimport { createGate } from 'effector-react'\nimport { toast } from 'react-toastify'\n\nimport { downloadTokens } from '../api/downloadTokens'\nimport { getQueryParameter } from '../utils/queryParameters'\nimport { themeChange } from './themes'\nimport { tokensQueryParameterUpdate } from './query'\nimport { VariablesType, ThemeNamesType, DesignTokensType, ListDesignTokensType } from '../types'\nimport { transformMappings } from '../utils/transformers'\nimport { $tokenMappings } from './mappings'\n\nexport const variablesInitialization = createEvent()\nexport const variablesChange = createEvent<VariablesType>()\nexport const variablesChangeBatch = createEvent<VariablesType[]>()\nexport const variablesReset = createEvent()\n\n//     ,       (Changes)\nexport const isVariablesChangedReset = createEvent()\n\nexport const tokensUpload = createEvent()\n\nexport const $designTokens = createStore<DesignTokensType>({})\n\nexport const $hasTokens = $designTokens.map((tokens) => Object.keys(tokens).length !== 0)\n\nexport const $listDesignTokens = $designTokens.map<ListDesignTokensType>((tokens) =>\n  Object.values(tokens).map((token) => ({ ...token })),\n)\n\nexport const $dotSepDesignTokens: Store<DesignTokensType> = combine(\n  $designTokens,\n  $tokenMappings,\n  (designTokens, mappings) =>\n    Object.entries(designTokens).reduce(\n      (acc, [name, { value, ...token }]) => ({\n        ...acc,\n        [name]: {\n          ...token,\n          value: transformMappings(value, mappings),\n        },\n      }),\n      {},\n    ),\n)\n\nexport const $isVariablesChanged = createStore(false)\n\nexport const variablesInitializationGate = createGate()\n\nexport const initializeVariables = createEffect(async () => {\n  const tokensHash = getQueryParameter('tokens')\n\n  if (!tokensHash) {\n    return\n  }\n\n  try {\n    const response = await downloadTokens(tokensHash)\n\n    if (!response) {\n      throw new Error('No response')\n    }\n\n    const { tokens, theme } = response\n\n    themeChange(theme as ThemeNamesType)\n    variablesChangeBatch(tokens)\n    tokensQueryParameterUpdate(tokensHash)\n    toast.success('Theme successfully downloaded')\n  } catch (err) {\n    toast.error(\"Couldn't download the Theme\")\n  }\n})\n\n// TODO:      change=false.\n$designTokens\n  .on(variablesChange, (state, token) => ({ ...state, [token.name]: token }))\n  .on(variablesChangeBatch, (state, tokens) => {\n    const ret: Record<string, any> = {}\n    tokens.forEach((v) => (ret[v.name] = v))\n    return { ...state, ...ret }\n  })\n  .reset(variablesReset)\n\n$isVariablesChanged\n  .on(variablesChange, () => true)\n  .reset(isVariablesChangedReset)\n  .reset(variablesReset)\n\nvariablesReset.watch(() => {\n  toast.success('All changes reset')\n  tokensQueryParameterUpdate()\n})\n\nforward({\n  from: variablesInitializationGate.open,\n  to: initializeVariables,\n})\n\n$designTokens.watch(console.log)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport type BackIconProps = IconProps\n\nexport const BackIcon: FC<BackIconProps> = ({ ...props }) => (\n  <svg\n    {...props}\n    width=\"13\"\n    height=\"12\"\n    viewBox=\"0 0 13 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2.70718 5.00004L5.35363 7.64648L4.64652 8.35359L1.14652 4.85359L0.792969 4.50004L1.14652 4.14648L4.64652 0.646484L5.35363 1.35359L2.70718 4.00004H6.50008C10.0762 4.00004 13.0001 6.9239 13.0001 10.5L13.0001 12H12.0001L12.0001 10.5C12.0001 7.47618 9.52393 5.00004 6.50008 5.00004H2.70718Z\"\n      fill=\"black\"\n      fillOpacity=\"0.8\"\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport type CloseEyeIconProps = IconProps & { type: 'white' | 'black' }\n\nexport const CloseEyeIcon: FC<CloseEyeIconProps> = ({ type, ...props }) => (\n  <svg\n    {...props}\n    width=\"20\"\n    height=\"10\"\n    viewBox=\"0 0 20 10\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M17.6347 3.24478C18.4044 2.51355 19.0692 1.67306 19.6041 0.748291H17.9623C16.208 3.26336 13.2941 4.90725 9.99726 4.90725C6.70037 4.90725 3.78656 3.26336 2.03219 0.748291H0.390405C0.925582 1.67349 1.59073 2.51435 2.36092 3.24582L0.150391 5.45643L1.13071 6.43671L3.4279 4.13943C4.41331 4.86503 5.52317 5.43164 6.71961 5.80126L5.86431 8.88033L7.20008 9.25138L8.06813 6.1264C8.69462 6.23629 9.33923 6.2936 9.99726 6.2936C10.6558 6.2936 11.301 6.23619 11.9279 6.12612L12.7961 9.25138L14.1318 8.88033L13.2764 5.8008C14.4728 5.43102 15.5825 4.86426 16.5678 4.13852L18.8661 6.43672L19.8464 5.45641L17.6347 3.24478Z\"\n      fill={type === 'white' ? 'white' : '#222222'}\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport type EllipsesIconProps = IconProps\n\nexport const EllipsesIcon: FC<EllipsesIconProps> = ({ ...props }) => (\n  <svg\n    {...props}\n    width=\"32\"\n    height=\"32\"\n    viewBox=\"0 0 32 32\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12ZM17 16C17 16.5523 16.5523 17 16 17C15.4477 17 15 16.5523 15 16C15 15.4477 15.4477 15 16 15C16.5523 15 17 15.4477 17 16ZM16 21C16.5523 21 17 20.5523 17 20C17 19.4477 16.5523 19 16 19C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21Z\"\n      fill=\"black\"\n      fillOpacity=\"0.301961\"\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport const UnionIcon: FC<IconProps> = ({ className }) => (\n  <svg\n    className={className}\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M3.74279 2.74819L6.00006 0.500244L8.25733 2.74819L6.00006 4.99614L3.74279 2.74819ZM2.74819 8.25731L0.500244 6.00004L2.74819 3.74278L4.99614 6.00004L2.74819 8.25731ZM8.25731 9.25191L6.00004 11.4999L3.74278 9.25191L6.00004 7.00396L8.25731 9.25191ZM11.4999 6.00006L9.25191 3.74279L7.00396 6.00006L9.25191 8.25733L11.4999 6.00006Z\"\n      fill=\"#7B61FF\"\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport const TipIcon: FC<IconProps> = (props) => (\n  <svg\n    {...props}\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M11 6C11 8.761 8.761 11 6 11C3.239 11 1 8.761 1 6C1 3.239 3.239 1 6 1C8.761 1 11 3.239 11 6ZM12 6C12 9.313 9.314 12 6 12C2.686 12 0 9.313 0 6C0 2.687 2.686 0 6 0C9.314 0 12 2.687 12 6ZM5.488 6.383C5.4 6.599 5.355 6.889 5.355 7.253H6.355L6.371 7.016C6.4 6.76 6.513 6.538 6.711 6.348L7.027 6.047C7.275 5.807 7.448 5.59 7.547 5.395C7.646 5.197 7.695 4.987 7.695 4.765C7.695 4.279 7.543 3.902 7.238 3.637C6.934 3.369 6.505 3.234 5.953 3.234C5.406 3.234 4.973 3.375 4.656 3.656C4.341 3.937 4.181 4.326 4.176 4.824H5.309C5.312 4.677 5.344 4.552 5.402 4.45C5.426 4.408 5.455 4.37 5.488 4.336C5.55 4.273 5.622 4.226 5.705 4.196C5.78 4.169 5.862 4.156 5.953 4.156C6.359 4.156 6.563 4.376 6.563 4.816C6.563 4.891 6.553 4.964 6.532 5.036C6.512 5.103 6.484 5.169 6.445 5.234C6.367 5.364 6.21 5.535 5.973 5.746C5.738 5.955 5.577 6.166 5.488 6.383ZM5.418 8.023C5.301 8.135 5.242 8.279 5.242 8.453C5.242 8.625 5.3 8.767 5.414 8.879C5.531 8.991 5.684 9.047 5.875 9.047C5.995 9.047 6.102 9.024 6.192 8.979C6.244 8.953 6.29 8.919 6.332 8.879C6.449 8.767 6.508 8.625 6.508 8.453C6.508 8.279 6.448 8.135 6.328 8.023C6.211 7.909 6.06 7.852 5.875 7.852C5.781 7.852 5.695 7.867 5.617 7.896C5.543 7.925 5.477 7.967 5.418 8.023Z\"\n      fill=\"black\"\n      fillOpacity=\"0.301961\"\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport const TrashIcon: FC<IconProps> = (props) => (\n  <svg\n    {...props}\n    width=\"12\"\n    height=\"16\"\n    viewBox=\"0 0 12 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M5 1.5C4.44772 1.5 4 1.94772 4 2.5H8C8 1.94772 7.55228 1.5 7 1.5H5ZM9 2.5C9 1.39543 8.10457 0.5 7 0.5H5C3.89543 0.5 3 1.39543 3 2.5H1.5H0L0 3.5H1V13.5C1 14.6046 1.89543 15.5 3 15.5H9C10.1046 15.5 11 14.6046 11 13.5V3.5H12V2.5H10.5H9ZM10 3.5H8.5H3.5H2V13.5C2 14.0523 2.44772 14.5 3 14.5H9C9.55228 14.5 10 14.0523 10 13.5V3.5ZM4 10.5V6.5H5V10.5H4ZM7 10.5V6.5H8V10.5H7Z\"\n      fill=\"black\"\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport type OpenEyeIconProps = IconProps & { type: 'white' | 'black' }\n\nexport const OpenEyeIcon: FC<OpenEyeIconProps> = ({ type, ...props }) => (\n  <svg\n    {...props}\n    width=\"20\"\n    height=\"12\"\n    viewBox=\"0 0 20 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M9.99914 10.159C6.81074 10.159 4.00713 8.50346 2.40422 5.99998C4.00713 3.49649 6.81074 1.84094 9.99914 1.84094C13.1875 1.84094 15.9911 3.4965 17.5941 5.99998C15.9911 8.50346 13.1875 10.159 9.99914 10.159ZM9.99914 0.45459C13.9891 0.45459 17.4542 2.702 19.1975 5.99998C17.4542 9.29796 13.9891 11.5454 9.99914 11.5454C6.00917 11.5454 2.54411 9.29796 0.800781 5.99998C2.54411 2.70199 6.00917 0.45459 9.99914 0.45459ZM9.99914 8.7728C11.5305 8.7728 12.7718 7.53142 12.7718 6.0001C12.7718 4.46879 11.5305 3.22741 9.99914 3.22741C8.46782 3.22741 7.22644 4.46879 7.22644 6.0001C7.22644 7.53142 8.46782 8.7728 9.99914 8.7728Z\"\n      fill={type === 'white' ? 'white' : '#222222'}\n    />\n  </svg>\n)\n","import React, { FC } from 'react'\n\nimport { IconProps } from './types'\n\nexport type SunIconProps = IconProps & { type: 'white' | 'black' }\n\nexport const SunIcon: FC<SunIconProps> = ({ type, ...props }) =>\n  type === 'white' ? (\n    <svg\n      {...props}\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.19956 3.68499C7.14639 3.77904 7.06092 3.85043 6.96059 3.89051C6.86793 3.92753 6.76627 3.93636 6.66948 3.91209L2.99026 2.98959L3.92325 6.6175C3.95066 6.72405 3.94078 6.8362 3.89952 6.93819C3.85601 7.04571 3.77945 7.13746 3.67859 7.19475L0.5 9L3.67858 10.8053C3.77944 10.8625 3.85601 10.9543 3.89952 11.0618C3.94079 11.1638 3.95066 11.276 3.92326 11.3825L2.99026 15.0104L6.6695 14.0879C6.76628 14.0636 6.86793 14.0725 6.96059 14.1095C7.06092 14.1496 7.14639 14.221 7.19956 14.315L9 17.5L10.8628 14.2747C10.9094 14.1941 10.9828 14.1326 11.069 14.0976C11.1516 14.064 11.2425 14.0561 11.3289 14.078L15.0111 15.0104L14.0896 11.2761C14.0707 11.1995 14.0775 11.1191 14.1069 11.0459C14.1384 10.9674 14.1944 10.9006 14.2677 10.8584L17.5 9L14.2677 7.14158C14.1944 7.09939 14.1384 7.03263 14.1069 6.95408C14.0775 6.88086 14.0707 6.80047 14.0896 6.72389L15.0111 2.98959L11.3289 3.92198C11.2425 3.94386 11.1516 3.93599 11.069 3.90244C10.9828 3.86741 10.9094 3.80592 10.8628 3.72533L9 0.5L7.19956 3.68499ZM10.1396 4.64557C9.77567 4.55057 9.39374 4.5 9 4.5C6.51472 4.5 4.5 6.51472 4.5 9C4.5 11.4853 6.51472 13.5 9 13.5C9.39375 13.5 9.7757 13.4494 10.1397 13.3544C8.83816 12.3486 8 10.7722 8 8.99998C8 7.22783 8.83814 5.65143 10.1396 4.64557Z\"\n        fill=\"white\"\n      />\n    </svg>\n  ) : (\n    <svg\n      {...props}\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10.8004 3.68499C10.8536 3.77904 10.9391 3.85043 11.0394 3.89051C11.1321 3.92753 11.2337 3.93636 11.3305 3.91209L15.0097 2.98959L14.0767 6.6175C14.0493 6.72405 14.0592 6.8362 14.1005 6.93819C14.144 7.04571 14.2206 7.13746 14.3214 7.19475L17.5 9L14.3214 10.8053C14.2206 10.8625 14.144 10.9543 14.1005 11.0618C14.0592 11.1638 14.0493 11.276 14.0767 11.3825L15.0097 15.0104L11.3305 14.0879C11.2337 14.0636 11.1321 14.0725 11.0394 14.1095C10.9391 14.1496 10.8536 14.221 10.8004 14.315L9 17.5L7.13716 14.2747C7.09061 14.1941 7.01719 14.1326 6.93097 14.0976C6.84839 14.064 6.7575 14.0561 6.67108 14.078L2.98892 15.0104L3.91043 11.2761C3.92933 11.1995 3.92247 11.1191 3.89311 11.0459C3.86162 10.9674 3.80565 10.9006 3.73228 10.8584L0.5 9L3.73228 7.14158C3.80565 7.09939 3.86162 7.03263 3.89311 6.95408C3.92247 6.88086 3.92933 6.80047 3.91043 6.72389L2.98892 2.98959L6.67108 3.92198C6.7575 3.94386 6.84839 3.93599 6.93097 3.90244C7.01719 3.86741 7.09061 3.80592 7.13716 3.72533L9 0.5L10.8004 3.68499ZM7.86036 4.64557C8.22433 4.55057 8.60626 4.5 9 4.5C11.4853 4.5 13.5 6.51472 13.5 9C13.5 11.4853 11.4853 13.5 9 13.5C8.60625 13.5 8.2243 13.4494 7.86031 13.3544C9.16184 12.3486 10 10.7722 10 8.99998C10 7.22783 9.16186 5.65143 7.86036 4.64557Z\"\n        fill=\"#222222\"\n      />\n    </svg>\n  )\n","import React, { FC, useRef, useState } from 'react'\nimport { useStore } from 'effector-react'\n\nimport { Modal } from '../../../lib/lego/Modal'\nimport { $isCombine } from '../../../model/combine'\nimport { variablesReset, $hasTokens } from '../../../model/designTokens'\n\nimport { TrashIcon } from '../../../icons'\nimport { Button, Icon } from 'react-figma-components'\n\nimport './Controls.css'\n\nexport type ControlsProps = { className: string }\n\nexport const Controls: FC<ControlsProps> = (props) => {\n  const scopeRef = useRef<HTMLDivElement>(null)\n  const [visible, setVisible] = useState(false)\n  const isCombine = useStore($isCombine)\n  const changesPresent = useStore($hasTokens)\n\n  const handleClick = () => {\n    setVisible(true)\n  }\n\n  const handleClose = () => {\n    setVisible(false)\n  }\n\n  const handleSubmit = () => {\n    variablesReset()\n    setVisible(false)\n  }\n\n  return (\n    <div {...props} ref={scopeRef}>\n      {!isCombine && changesPresent && (\n        <div className=\"Control\" onClick={handleClick}>\n          <TrashIcon className=\"Reset-Icon\" />\n          Reset all changes\n        </div>\n      )}\n      <Modal theme=\"normal\" visible={visible} scope={scopeRef} onClose={handleClose}>\n        <div className=\"Reset-Modal\">\n          <div className=\"Title\">\n            <span>Do you want to reset all changes?</span>\n            <Icon name=\"close\" color=\"black\" onClick={handleClose} className=\"CloseIcon\" />\n          </div>\n          <div className=\"Buttons\">\n            <Button view=\"secondary\" onPress={handleClose}>\n              Cancel\n            </Button>\n            <Button view=\"primary\" destructive onPress={handleSubmit}>\n              Reset changes\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, { FC } from 'react'\nimport { cn } from '@bem-react/classname'\nimport { useStore } from 'effector-react'\n\nimport { TabsMenu } from '../../lib/lego/TabsMenu'\nimport { Controls } from './Controls'\nimport { $isVariablesChanged } from '../../model/designTokens'\n\nimport './Header.css'\n\nexport type ActiveTabType = 'components' | 'changes'\n\nexport type HeaderProps = {\n  activeTab: ActiveTabType\n  setActiveTab: (newActiveTab: ActiveTabType) => void\n}\n\nexport const cnHeader = cn('Header')\n\nexport const Header: FC<HeaderProps> = ({ activeTab, setActiveTab }) => {\n  const showChangesNotification = useStore($isVariablesChanged)\n\n  return (\n    <div className={cnHeader()}>\n      <TabsMenu\n        activeTab={activeTab}\n        tabs={[\n          {\n            id: 'components',\n            onClick: () => setActiveTab('components'),\n            content: 'Components',\n          },\n          {\n            id: 'changes',\n            onClick: () => setActiveTab('changes'),\n            content: (\n              <div\n                className={cnHeader('Changes', {\n                  notify: showChangesNotification,\n                })}\n              >\n                Changes\n              </div>\n            ),\n          },\n        ]}\n      />\n      <Controls className={cnHeader('Controls')} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { Divider as DividerBase } from '@yandex-lego/components/Divider'\n\nimport './Divider.css'\n\nexport const Divider = () => <DividerBase />\n","import React, { ReactNode, FC, MouseEventHandler, useRef } from 'react'\nimport { cn } from '@bem-react/classname'\n\nimport { UnionIcon } from '../../icons'\n\nimport './Panel.css'\nimport { useFocusable, UseFocusableProps } from 'web-platform-alpha'\n\nexport const cnPanel = cn('Panel')\n\nexport type PanelProps = UseFocusableProps & {\n  className?: string\n  onClick?: MouseEventHandler\n  active?: boolean\n}\n\nexport const Panel: FC<PanelProps> = (props) => {\n  const { children, className, active, ...restProps } = props\n  const ref = useRef<HTMLButtonElement>(null)\n  const { focusableProps } = useFocusable(props, ref)\n\n  return (\n    <button\n      className={cnPanel({ active }, [className])}\n      ref={ref}\n      {...focusableProps}\n      {...restProps}\n    >\n      <UnionIcon className={cnPanel('Icon')} />\n      <span className={cnPanel('Label')}>{children}</span>\n    </button>\n  )\n}\n","import React, { FC, Fragment, useState } from 'react'\nimport { Input, Icon, Disclosure } from 'react-figma-components'\nimport { cn } from '@bem-react/classname'\n\nimport { Panel } from '../../../../components/Panel'\nimport { Divider } from '../../../../lib/lego/Divider'\nimport * as allComponents from '@yandex-lego/components/figma'\n// import { panelsTree } from './constants'\n\nimport './Panels.css'\n\nexport const cnPanels = cn('Panels')\n\nexport type PanelsProps = {\n  className: string\n  panels: string[]\n  activePanel: string\n  onPanelSelect: (panel: string) => void\n}\n\nconst panelsTree = {\n  components: Object.keys(allComponents).map((component) => component.toLocaleLowerCase()),\n}\n\n// By default all disclosures are open\nconst defaultSections = Array(Object.keys(panelsTree).length).fill(true)\n\nconst includes = (component: string, search: string) =>\n  component.toLowerCase().includes(search.toLowerCase())\n\nexport const Panels: FC<PanelsProps> = ({ className, panels, activePanel, onPanelSelect }) => {\n  const [search, setSearch] = useState('')\n  const [sections, setSections] = useState(defaultSections)\n\n  const handleSectionChange = (index: number) => {\n    setSections((prev) => prev.map((el, i) => (i === index ? !el : el)))\n  }\n\n  return (\n    <div className={cnPanels(null, [className])}>\n      <Input\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        renderIcon={<Icon name=\"search\" color=\"black\" />}\n        placeholder=\"Search\"\n        className={cnPanels('Input')}\n      />\n      <Divider />\n      <div className={cnPanels('Content')}>\n        {/* Overview is not belong to any class */}\n        {includes('overview', search) && (\n          <Panel\n            key=\"overview\"\n            active={activePanel === 'overview'}\n            onClick={() => onPanelSelect('overview')}\n          >\n            overview\n          </Panel>\n        )}\n\n        {Object.entries(panelsTree).map(([section, components], index) => {\n          if (!components.some((component) => includes(component, search))) {\n            return <Fragment key={section} />\n          }\n\n          return (\n            <Disclosure\n              label={section}\n              checked={sections[index]}\n              onChange={() => handleSectionChange(index)}\n              className=\"Panels-Disclosure\"\n              key={section}\n            >\n              {components\n                .filter((component) => includes(component, search))\n                .map((component) => (\n                  <Panel\n                    key={component}\n                    active={activePanel === component}\n                    onClick={() => onPanelSelect(component)}\n                  >\n                    {component}\n                  </Panel>\n                ))}\n            </Disclosure>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React, { FC, ReactNode } from 'react'\nimport { cn } from '@bem-react/classname'\n\nimport { TipIcon } from '../../icons'\nimport { TooltipStateful } from '../../lib/lego/Tooltip'\n\nimport './TextinputBase.css'\n\nexport const cnTextinput = cn('Textinput')\n\nexport type TextinputBaseProps = {\n  label: string\n  children?: ReactNode\n  className?: string\n  tip?: string\n  onClick?: () => void\n}\n\nexport const TextinputBase: FC<TextinputBaseProps> = ({\n  children,\n  className,\n  tip,\n  label,\n  onClick,\n}) => {\n  return (\n    <div className={cnTextinput({ has_tip: Boolean(tip) }, [className])} onClick={onClick}>\n      <div className={cnTextinput('Tip')}>\n        {tip && (\n          <TooltipStateful content={tip}>\n            <span>\n              <TipIcon className={cnTextinput('TipIcon')} />\n            </span>\n          </TooltipStateful>\n        )}\n        <span className={cnTextinput('Label')}>{label}</span>\n      </div>\n      <div className={cnTextinput('Body')}>{children}</div>\n    </div>\n  )\n}\n","import React, { FC, ReactNode, useCallback } from 'react';\nimport { Select, Input, Item, Switch } from 'react-figma-components';\n\nimport { TextinputBase, TextinputBaseProps, cnTextinput } from '.';\n\nexport type TextinputProps = TextinputBaseProps & {\n    type:\n        | 'enum'\n        | 'array'\n        | 'select'\n        | 'boolean'\n        | 'node'\n        | 'number'\n        | 'string'\n        | 'object'\n        | 'text'\n        | 'children';\n    options?: string[];\n    multiple?: boolean;\n    value?: string;\n    onChange?: (value: string | boolean | string[], label: string) => void;\n};\n\nexport const Textinput: FC<TextinputProps> = ({\n    value,\n    type,\n    multiple = false,\n    options = [],\n    onChange = () => {},\n    label,\n    ...props\n}) => {\n    let Component: ReactNode;\n\n    const onChangeSelectHandler = useCallback(\n        (v) => {\n            console.log(v);\n            // @ts-expect-error\n            onChange(v?.map(({ value }) => value), label);\n        },\n        [onChange, label]\n    );\n    const onChangeCheckHandler = useCallback(\n        (v) => {\n            onChange(v?.target.checked, label);\n        },\n        [onChange, label]\n    );\n    const onChangeTextHandler = useCallback(\n        (v) => {\n            onChange(v?.target.value, label);\n        },\n        [onChange, label]\n    );\n\n    switch (type) {\n        case 'select':\n        case 'enum':\n            const selected = options.filter((v) => value?.includes(v)).map((v) => ({ option: v, value: v }));\n            const optionsMapped = options.map((o) => ({\n                value: o,\n                label: o,\n            }));\n            optionsMapped.unshift({ value: '-1', label: '--' });\n\n            Component = (\n                <Select multiple={multiple} onChange={onChangeSelectHandler} selected={selected}>\n                    {optionsMapped.map(({ value, label }) => (\n                        <Item value={value} key={`${label}-${value}`}>\n                            {label}\n                        </Item>\n                    ))}\n                </Select>\n            );\n\n            break;\n        case 'boolean':\n            Component = <Switch onChange={onChangeCheckHandler} checked={Boolean(value)} />;\n            break;\n        case 'children':\n        case 'text':\n        case 'object':\n        case 'node':\n        case 'number':\n        case 'string':\n        case 'array':\n            Component = <Input onChange={onChangeTextHandler} value={value} />;\n            break;\n        default:\n            throw new Error('component type is not defined');\n    }\n\n    return (\n        <TextinputBase\n            {...props}\n            label={label}\n            className={cnTextinput({ [`type_${type}`]: Boolean(type) })}\n        >\n            {Component}\n        </TextinputBase>\n    );\n};\n","type Color =\n  | { source: 'rgb'; rgb: { r: number; g: number; b: number; a: number } }\n  | { source: 'hsl'; hsl: { h: number; s: number; l: number; a: number } }\n  | { source: 'hex'; hex: string }\n\nexport function isColor(value: string): boolean {\n  return Boolean(String(value).match(/^(#|hsla?|rgba?)/))\n}\n\nfunction hslToHex(h: number, s: number, l: number) {\n  l /= 100\n  const a = (s * Math.min(l, 1 - l)) / 100\n  const f = (n: number) => {\n    const k = (n + h / 30) % 12\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n    return Math.round(255 * color)\n      .toString(16)\n      .padStart(2, '0') // convert to Hex and prefix \"0\" if needed\n  }\n  return `${f(0)}${f(8)}${f(4)}`\n}\n\nfunction rgbToHex(r: number, g: number, b: number) {\n  return (\n    (r | (1 << 8)).toString(16).slice(1) +\n    (g | (1 << 8)).toString(16).slice(1) +\n    (b | (1 << 8)).toString(16).slice(1)\n  )\n}\n\nfunction clamp(number: number, min: number, max: number) {\n  return Math.max(Math.min(number, max), min)\n}\n\nexport function convertColorObj(color: Color): string {\n  let colorValue = ''\n\n  // TODO: Move to util.\n  if (color.source === 'rgb') {\n    colorValue = `rgba(${color.rgb.r}, ${color.rgb.g}, ${color.rgb.b}, ${color.rgb.a})`\n  } else if (color.source === 'hsl') {\n    colorValue = `hsla(${color.hsl.h}, ${color.hsl.s}, ${color.hsl.l}, ${color.hsl.a})`\n  } else {\n    colorValue = color.hex\n  }\n\n  return colorValue\n}\n\nexport function toHEXA(color: string) {\n  const _color = String(color)\n  let hex, a\n\n  if (_color.match(/(rgb|hsl)/)) {\n    const extract = _color.match(/\\((.*)\\)/)\n\n    if (!extract) {\n      throw new Error('Wrong color value. Empty rgb/hsl body')\n    }\n\n    // Parameters depends on the applied function\n    //     r   g   b   alpha\n    //     h   s   l   alpha\n    const [a1, a2, a3, alpha] = extract[0]\n      .slice(1, extract[0].length - 1)\n      .split(',')\n      .map((el) => Number(el.trim()))\n\n    hex = _color.match(/rgb/) ? rgbToHex(a1, a2, a3) : hslToHex(a1, a2, a3)\n    a = alpha ?? 1\n  } else {\n    let fullForm = _color.slice(1)\n    if (_color.length === 4 || _color.length === 5) {\n      const r = _color[1],\n        g = _color[2],\n        b = _color[3]\n      fullForm = r + r + g + g + b + b + (_color.length === 5 ? color[4] + color[4] : '')\n    }\n\n    if (fullForm.length === 8) {\n      // _______ <- color part\n      // #FFFFFF00\n      //        -- <- alpha part\n      hex = fullForm.slice(0, -2)\n      a = parseInt(fullForm.slice(fullForm.length - 2, fullForm.length), 16) / 100\n    } else {\n      hex = fullForm\n      a = 1\n    }\n  }\n\n  a = clamp(a, 0, 1)\n  return [hex.toUpperCase(), `${Math.round(a * 100)}%`]\n}\n\nexport function combineHexAndAlpha(hex: string, alpha: string): string {\n  return '#' + hex + clamp(Number(alpha), 0, 100).toString(16).padStart(2, '0')\n}\n","import { isColor } from './color'\nimport { hasParams } from '../utils/extractParams'\n\nexport const getType = (token: string) => {\n  if (isColor(token)) {\n    return 'color'\n  }\n\n  if (typeof token === 'string' && hasParams(token)) {\n    return 'link'\n  }\n\n  return 'text'\n}\n","import { ListDesignTokensType, MappingsType } from '../types'\nimport { build } from '@yandex/themekit/lib/core/build'\nimport { parseContent } from '@yandex/themekit/lib/core/parseContent'\n\nimport { getType } from '../utils/tokenType'\n\nexport const themeboxConfig = {\n  output: {\n    css: {\n      transforms: ['name/cti/kebab', 'json/extended/mapper'],\n      buildPath: './themes',\n      files: [\n        {\n          destination: 'tokens.json',\n          format: 'json/extended',\n        },\n      ],\n      actions: ['process-color'],\n    },\n  },\n}\n\nexport const downloadTheme = async (content: any, mappings: MappingsType) => {\n  const res = await build([\n    {\n      mapper: mappings,\n      whitepaper: {},\n      entry: 'browser',\n      platform: 'desktop',\n      properties: parseContent(content, 'yaml') as object,\n      ...themeboxConfig,\n    },\n  ])\n\n  const properties = res['css'].dictionary.allProperties\n\n  const tokens: ListDesignTokensType = Object.entries(properties).map(([_, item]: any) => ({\n    path: item.path,\n    name: item.name,\n    value: item.value,\n    rawValue: item.original.value,\n    changed: true,\n    type: getType(item.value),\n  }))\n\n  return tokens\n}\n","export function toDeepToken(path: string[], prop: any): any {\n  const chunks = [...path].reverse()\n  let result: any = prop\n  for (let chunk of chunks) {\n    result = { [chunk]: result }\n  }\n  return result\n}\n","import { combine } from 'effector'\nimport deepmerge from 'deepmerge'\nimport YAML from 'yaml'\n\nimport { ParamsType } from '../types'\nimport { PARAM_DOT_RE } from '../utils/constants'\nimport { extractParams } from '../utils/extractParams'\nimport { toDeepToken } from '../utils/toDeepToken'\nimport { $invertedTokenMappings } from './mappings'\nimport { $theme } from './themes'\nimport { $dotSepDesignTokens } from './designTokens'\n\nexport const $yamlText = combine(\n  {\n    designTokens: $dotSepDesignTokens,\n    mappings: $invertedTokenMappings,\n    theme: $theme,\n  },\n  ({ designTokens, mappings, theme: { allTokens } }) => {\n    if (Object.keys(designTokens).length === 0) {\n      return ''\n    }\n\n    // Make object for yaml from designTokens\n    const yml = Object.values(designTokens).reduce((acc, { path, value, rawValue }) => {\n      if (rawValue) {\n        acc.push(toDeepToken(path, { value: rawValue }))\n      } else {\n        acc.push(toDeepToken(path, { value }))\n      }\n\n      return acc\n    }, [] as any)\n\n    // Get all params from designTokens values\n    const params = Object.values(designTokens).reduce<ParamsType[]>(\n      (acc, { value, rawValue }) => [\n        ...acc,\n        ...(extractParams(rawValue || value, PARAM_DOT_RE) || []),\n      ],\n      [],\n    )\n\n    // If param is in the theme and it was not redefined then add theme's value to the yaml\n    params\n      .map(({ token }) => mappings[token] || token)\n      .filter((token) => !(token in designTokens))\n      .forEach((token) => {\n        if (allTokens[token]) {\n          const { path, value } = allTokens[token]\n          yml.push(toDeepToken(path, { value }))\n        }\n      })\n\n    const deepmergedYml = deepmerge.all(yml)\n    return YAML.stringify(deepmergedYml)\n  },\n)\n","import { createStore, createEvent, createEffect, forward, attach } from 'effector'\n\nimport { downloadTheme } from '../api/downloadTheme'\nimport { variablesReset } from './designTokens'\nimport { $yamlText } from './yaml'\nimport { DesignTokensType, VariablesType, MappingsType } from '../types'\nimport { $theme } from './themes'\n\nexport const $resolvedTokens = createStore<DesignTokensType>({})\n\nconst resolvedTokensUpdate = createEvent<VariablesType[]>()\n\n$resolvedTokens\n  .on(resolvedTokensUpdate, (_, tokens) =>\n    tokens.reduce((acc, token) => ({ ...acc, [token.name]: token }), {}),\n  )\n  .reset(variablesReset)\n\nexport const resolveTokensFx = createEffect(\n  async ({ content, mappings }: { content: string; mappings: MappingsType }) => {\n    resolvedTokensUpdate(await downloadTheme(content, mappings))\n  },\n)\n\nexport const resolveTokensAttach = attach({\n  effect: resolveTokensFx,\n  source: $theme,\n  mapParams: (content: string, { mappings }) => ({\n    content,\n    mappings,\n  }),\n})\n\nforward({ from: $yamlText, to: resolveTokensAttach })\n","import { ExtractProps } from '@bem-react/core';\nimport  * as allComponents from '@yandex-lego/components/figma';\n\n// import { allComponents } from './allComponents';\n\ntype ComponentReactTypes = typeof allComponents\nexport type AllComponentsNames = keyof ComponentReactTypes\nexport type AllComponentsTypes = {\n    [K in AllComponentsNames]: any\n}\n// export type AllComponentsValues = AllComponentsTypes[AllComponentsNames];\n\nexport const getComponentByName = (name: keyof ComponentReactTypes) => {\n    // console.log(allComponents[name]);\n\n    return allComponents[name].default.component;\n};\n\nexport const getComponentMetaByName = (name: keyof ComponentReactTypes) => {\n    // console.log(allComponents[name]);\n    const uppercasedName = name[0].toUpperCase() + name.slice(1);\n    // @ts-expect-error\n    return allComponents[uppercasedName].default;\n};\n","import { createStore, createEvent, combine } from 'effector'\n\nimport groupBy from 'lodash.groupby'\n\nimport { $designTokens } from '../../model/designTokens'\nimport { $invertedTokenMappings } from '../../model/mappings'\nimport { $resolvedTokens } from '../../model/resolvedTokens'\nimport { $theme } from '../../model/themes'\nimport { toHEXA } from '../../utils/color'\nimport { extractParams } from '../../utils/extractParams'\nimport { getType } from '../../utils/tokenType'\nimport { transformMappings } from '../../utils/transformers'\nimport { getComponentMetaByName } from '../../utils/getComponentByName'\n\nexport type TokenBase = {\n  label: string\n  groups: string[]\n  path: string[]\n  description: string\n  defaultValue: string\n  rawValue: string\n  changed: boolean\n  name: string\n}\n\nexport type TokenType = TokenBase &\n  (\n    | { type: 'text'; value: string }\n    | {\n        type: 'color'\n        hex: string\n        alpha: string\n        color: string\n      }\n    | {\n        type: 'link'\n        link: string\n        isColor: boolean\n        colorValue: string\n      }\n  )\n\nexport const componentChange = createEvent<string>()\nexport const tokenChange = createEvent<string>()\nexport const tokenReset = createEvent()\nexport const activeTabChange = createEvent<string>()\nexport const currentPropsChange = createEvent<{\n  name: string\n  value: unknown\n}>()\nexport const currentCombinedPropsChange = createEvent<{\n  name: string\n  value: unknown\n}>()\n\nexport interface Prop {\n  name: string\n  description: string\n  type: {\n    required: boolean\n    name: 'node' | 'boolean' | 'string' | 'number' | 'enum' | 'array' | 'object'\n  }\n  options?: string[]\n  defaultValue: unknown\n}\ninterface IComponent {\n  block: string\n  props: Prop[]\n}\n\ninterface ComponentState {\n  allProps: Prop[]\n  currentProps: Record<string, unknown>\n  currentCombinedProps: Record<string, unknown>\n}\n\n// Current selected component to be shown\nexport const $component = createStore<string>('overview')\nexport const $componentProps = createStore<ComponentState>({\n  allProps: [],\n  currentProps: {},\n  currentCombinedProps: {},\n})\n\n// Current selected token to be edited\nexport const $token = createStore<string>('')\nexport const $tokenPresent = $token.map((token) => token.length > 0)\n\nconst getTokenGroups = (name: string) => {\n  const parts = name.split('-')\n\n  return parts.map((_, index) => parts.slice(0, index + 1).join('-')).reverse()\n}\n\n// Tokens of the component\nexport const $tokens = combine(\n  {\n    theme: $theme,\n    mappings: $invertedTokenMappings,\n    selectedComponent: $component,\n    resolvedChanges: $resolvedTokens,\n    changes: $designTokens,\n  },\n  ({\n    theme: {\n      tokens: { globals, components },\n    },\n    changes,\n    resolvedChanges,\n    mappings,\n    selectedComponent,\n  }) => {\n    const tokens = selectedComponent === 'overview' ? globals : components[selectedComponent]\n\n    const preparedTokens = Object.entries(tokens).map<TokenType>(([tokenName, token]) => {\n      // Initial type of the token\n      const baseType = getType(String(token.value))\n      const tokenChanged = typeof resolvedChanges[tokenName]?.value !== 'undefined'\n      const value = tokenChanged ? resolvedChanges[tokenName].value : String(token.value)\n\n      // Current type of the token (can become link)\n      const rawValue = transformMappings((changes[tokenName] || {}).rawValue || '', mappings, true)\n      const type = getType(rawValue || value)\n      const changed = value !== token.value\n\n      let resultToken: any\n      switch (type) {\n        case 'text':\n          resultToken = { value }\n          break\n        case 'color':\n          const [hex, alpha] = toHEXA(value)\n          resultToken = { hex, alpha, color: value }\n          break\n        case 'link':\n          const params = extractParams(rawValue)\n\n          // TODO:     \n          // : padding: {size-l} {size-l}\n          //       \n          if (params) {\n            resultToken = {\n              link: params[0].token,\n              isColor: baseType === 'color',\n              colorValue: value,\n            }\n          }\n      }\n\n      return {\n        ...token,\n        ...resultToken,\n        label: tokenName,\n        name: tokenName,\n        groups: getTokenGroups(tokenName),\n        type,\n        defaultValue: token.value,\n        rawValue,\n        changed,\n      }\n    })\n\n    const groupsCount = preparedTokens.reduce<Record<string, number>>((res, { label, groups }) => {\n      for (const group of groups) {\n        res[group] = res[group] ? res[group] + 1 : 1\n      }\n\n      return res\n    }, {})\n\n    return groupBy(preparedTokens, ({ groups }) => {\n      return groups.find((group) => groupsCount[group] >= 3) || groups[0]\n    })\n  },\n)\n\n// Current tab to show\nexport const $activeTab = createStore<string>('')\n\n$component.on(componentChange, (_, component) => component)\n$componentProps.on(componentChange, (_, component) => {\n  // @ts-expect-error\n  const currentComponent = getComponentMetaByName(component)\n  console.log(currentComponent)\n  return {\n    allProps: currentComponent.argTypes,\n    currentProps: currentComponent.args,\n    currentCombinedProps: {},\n  }\n})\n$componentProps.on(\n  currentPropsChange,\n  ({ allProps, currentProps, currentCombinedProps }, newProp) => {\n    const newState = { ...currentProps }\n    newState[newProp.name] = newProp.value\n\n    return { allProps, currentProps: newState, currentCombinedProps }\n  },\n)\n\n$componentProps.on(\n  currentCombinedPropsChange,\n  ({ allProps, currentProps, currentCombinedProps }, newProp) => {\n    const newState = { ...currentCombinedProps }\n    newState[newProp.name] = newProp.value\n\n    return { allProps, currentCombinedProps: newState, currentProps }\n  },\n)\n\n$token.on(tokenChange, (_, token) => token).reset(tokenReset)\n\n$activeTab.on(activeTabChange, (_, activeTab) => activeTab)\n","import React, { FC, useCallback } from 'react';\n\nimport { Textinput } from '../../../../components/Textinput';\nimport { $componentProps, Prop, currentPropsChange, currentCombinedPropsChange } from '../../model';\n\nimport { useStore } from 'effector-react';\n\nexport type SettingsProps = {\n    combine: boolean;\n};\n\nexport type SettingsItemProps = {\n    prop: Prop;\n    value: unknown;\n    onChange: ({ name, value }: { name: string; value: unknown }) => void;\n};\n\nexport const Settings: FC<SettingsProps> = ({ combine }) => {\n    const { allProps, currentProps, currentCombinedProps } = useStore($componentProps);\n    const onChangeProp = useCallback((value: unknown, name) => {\n        const handler = combine ? currentCombinedPropsChange : currentPropsChange;\n        console.log(value);\n        handler({ name, value });\n    }, [combine]);\n\n    const props = combine ? { ...currentProps, ...currentCombinedProps } : currentProps;\n\n    return (\n        <>\n            {allProps.map((prop) => {\n                const required = prop.type.required;\n                const type = prop.type.name;\n                const name = prop.name;\n                console.log(name, props[prop.name]);\n                return (\n                    <Textinput\n                        key={name}\n                        multiple={combine}\n                        label={prop.name}\n                        tip={prop.description}\n                        type={type}\n                        value={props[prop.name] as string}\n                        onChange={onChangeProp}\n                        options={prop.options}\n                    />\n                );\n            })}\n        </>\n    );\n};\n","export const COUNTER_ID = '69595123'\n\nexport const metricaGoal = (goal: string) => {\n  // @ts-ignore\n  window.ym(COUNTER_ID, 'reachGoal', goal)\n}\n","import React, { useState, useRef, useCallback, FC, useMemo } from 'react'\nimport { ChromePicker } from 'react-color'\nimport { Popup } from '@yandex-lego/components/Popup/desktop/bundle'\n\nimport { metricaGoal } from '../../../../../../components/YaMetrika'\n\nimport './ColorPicker.css'\n\nexport type ColorPickerProps = {\n  color: string\n  onChange?: (color: string) => void\n  shape?: 'circle' | 'square'\n  className?: string\n}\n\nexport const ColorPicker: FC<ColorPickerProps> = ({\n  color,\n  onChange,\n  shape = 'circle',\n  className,\n}) => {\n  const [visible, setVisible] = useState(false)\n\n  const scopeRef = useRef<HTMLDivElement>(null)\n  const anchorRef = useRef<HTMLDivElement>(null)\n\n  const handleClick = useCallback(() => {\n    if (!onChange) {\n      return\n    }\n\n    setVisible(true)\n    metricaGoal('picker')\n  }, [onChange])\n\n  const handleClose = useCallback(() => {\n    setVisible(false)\n  }, [])\n\n  const handleColorChange = useCallback(\n    (event) => {\n      onChange?.(event)\n      metricaGoal('change-tokens')\n    },\n    [onChange],\n  )\n\n  const backgroundColorStyle = useMemo(() => ({ background: color }), [color])\n\n  return (\n    <div ref={scopeRef} className={`ColorPicker ${className ? className : ''}`}>\n      <div\n        ref={anchorRef}\n        onClick={handleClick}\n        className={`ColorPicker-Preview ColorPicker-Preview_shape_${shape}`}\n        style={backgroundColorStyle}\n      />\n      <Popup\n        direction=\"bottom-end\"\n        target=\"anchor\"\n        anchor={anchorRef}\n        view=\"default\"\n        visible={visible}\n        scope={scopeRef}\n        onClose={handleClose}\n      >\n        <ChromePicker color={color} onChange={handleColorChange} />\n      </Popup>\n    </div>\n  )\n}\n","import React, { FC, useEffect, useState, useCallback, FocusEventHandler } from 'react'\nimport { cnTextinput } from '@yandex-lego/components/Textinput/Textinput'\nimport { withDebounceInput } from '@yandex-lego/components/withDebounceInput'\nimport { IconButton, Input } from 'react-figma-components'\nimport { debounce } from 'lodash'\n\nimport { convertColorObj } from '../../../../../../../utils/color'\nimport { ColorPicker } from '../../ColorPicker'\nimport { TokenType } from '../../../../../model'\nimport { combineHexAndAlpha } from '../../../../../../../utils/color'\n\nimport './Color.css'\n\nexport type ColorProps = TokenType & {\n  handleLink: (token: string) => void\n  handleColorChange: (color: string) => void\n  type: 'color'\n}\n\nconst DebounceInput = withDebounceInput(Input)\n\nexport const Color: FC<ColorProps> = ({\n  handleLink,\n  handleColorChange,\n  color,\n  hex,\n  alpha,\n  name,\n}) => {\n  const [_hex, setHex] = useState(hex)\n  const [_alpha, setAlpha] = useState(alpha)\n  const [_color, setColor] = useState(color)\n\n  const handleColorChangeDebounced = useCallback(debounce(handleColorChange, 100), [\n    handleColorChange,\n  ])\n\n  useEffect(() => {\n    if (hex) {\n      setHex(hex)\n    }\n    if (alpha) {\n      setAlpha(alpha)\n    }\n    if (color) {\n      setColor(color)\n    }\n  }, [hex, alpha, color])\n\n  const handleInputChange = useCallback(\n    (hex: string, alpha: string) => {\n      const color = combineHexAndAlpha(hex, alpha.replace('%', ''))\n      handleColorChange(color)\n    },\n    [handleColorChange],\n  )\n\n  const _handleColorChange = useCallback(\n    (color: any) => {\n      const _color = convertColorObj(color)\n\n      setColor(_color)\n      handleColorChangeDebounced(_color)\n    },\n    [handleColorChangeDebounced],\n  )\n\n  const handleLinkHandler = useCallback(() => handleLink(name), [name, handleLink])\n  const hexChangeHandler = useCallback((event) => handleInputChange(event.target.value, _alpha), [\n    _alpha,\n    handleInputChange,\n  ])\n  const alphaChangeHandler = useCallback((event) => handleInputChange(_hex, event.target.value), [\n    _hex,\n    handleInputChange,\n  ])\n\n  const selectTextOnFocus: FocusEventHandler = (event) => {\n    // @ts-ignore\n    event.target.setSelectionRange(0, event.target.value.length)\n  }\n\n  return (\n    <>\n      <div className={cnTextinput({ type_color: true })}>\n        <ColorPicker color={_color} onChange={_handleColorChange} className=\"Textinput-Picker\" />\n        <DebounceInput\n          className=\"Textinput-Hex\"\n          value={_hex}\n          debounceTimeout={500}\n          onChange={hexChangeHandler}\n          maxLength={6}\n          onFocus={selectTextOnFocus}\n        />\n        <DebounceInput\n          className=\"Textinput-Alpha\"\n          value={_alpha}\n          debounceTimeout={500}\n          onChange={alphaChangeHandler}\n          maxLength={4}\n          onFocus={selectTextOnFocus}\n        />\n        <IconButton name=\"hyperlink\" onPress={handleLinkHandler} className=\"Textinput-BreakIcon\" />\n      </div>\n    </>\n  )\n}\n","import React, { FC } from 'react'\nimport { cnTextinput } from '@yandex-lego/components/Textinput/Textinput'\nimport { IconButton } from 'react-figma-components'\n\nimport { ColorPicker } from '../../ColorPicker'\nimport { TokenType } from '../../../../../model'\n\nimport './Link.css'\n\nexport type LinkProps = TokenType & {\n  handleLink: (token: string) => void\n  type: 'link'\n}\n\nexport const Link: FC<LinkProps> = ({ label, link, isColor, colorValue, handleLink }) => {\n  return (\n    <div className={cnTextinput({ type_link: true })}>\n      {isColor && <ColorPicker color={colorValue} shape=\"circle\" className=\"Textinput-Picker\" />}\n      <span>{link}</span>\n      <IconButton name=\"break\" onPress={() => handleLink(label)} className=\"Textinput-BreakIcon\" />\n    </div>\n  )\n}\n","import React, { ChangeEventHandler, FC, FocusEventHandler } from 'react'\nimport { withDebounceInput } from '@yandex-lego/components/withDebounceInput'\nimport { Input } from 'react-figma-components'\n\nimport { TokenBase } from '../../../../../model'\nimport { cnTextinput } from '../../../../../../../components/Textinput'\n\nexport type TextProps = TokenBase & {\n  handleChange: ChangeEventHandler<HTMLInputElement>\n  value: string\n}\n\nconst DebounceInput = withDebounceInput(Input)\n\nexport const Text: FC<TextProps> = ({ label, value, handleChange }) => {\n  const selectTextOnFocus: FocusEventHandler = (event) => {\n    // @ts-ignore\n    event.target.setSelectionRange(0, event.target.value.length)\n  }\n  return (\n    <div className={cnTextinput({ type_text: true })}>\n      <DebounceInput\n        onChange={handleChange}\n        onFocus={selectTextOnFocus}\n        value={value}\n        debounceTimeout={500}\n        forceNotifyByEnter\n        forceNotifyOnBlur\n        data-testid={label}\n        className=\"TextinputField-Input\"\n      />\n    </div>\n  )\n}\n","import React, { FC } from 'react'\nimport { cn } from '@bem-react/classname'\n\nimport { TextinputBase, TextinputBaseProps } from '../../../../../../components/Textinput'\nimport { toHEXA } from '../../../../../../utils/color'\n\nimport './TokenPrevious.css'\n\nexport const cnTokenPrevious = cn('TokenPrevious')\n\nexport type TokenPreviousProps = Omit<TextinputBaseProps, 'label'> & {\n  color: string\n  handleClick: () => void\n}\n\nexport const TokenPrevious: FC<TokenPreviousProps> = ({ color, handleClick, ...props }) => {\n  const [hex, alpha] = toHEXA(color)\n\n  return (\n    <TextinputBase\n      label=\"initial value\"\n      className={cnTokenPrevious()}\n      onClick={handleClick}\n      {...props}\n    >\n      <div className={cnTokenPrevious('Body')}>\n        <span className={cnTokenPrevious('Hex')}>{hex}</span>\n        <span className={cnTokenPrevious('Alpha')}>{alpha}</span>\n      </div>\n    </TextinputBase>\n  )\n}\n","import React, { useCallback, FC, useMemo } from 'react'\n\nimport { TextinputBase } from '../../../../../components/Textinput'\nimport { metricaGoal } from '../../../../../components/YaMetrika'\nimport { variablesChange } from '../../../../../model/designTokens'\nimport { tokenChange, TokenType } from '../../../model'\nimport { Text, Color, Link } from './Inputs'\nimport { TokenPrevious } from './TokenPrevious'\n\nexport type TokenProps = TokenType & {}\n\nexport const TokenField: FC<TokenProps> = (props) => {\n  const { label, description, type, path, defaultValue, changed, name } = props\n\n  const handleTextChange = useCallback(\n    (event) => {\n      variablesChange({\n        path,\n        name,\n        value: event.target.value,\n        changed: event.target.value !== defaultValue,\n        type,\n      })\n      metricaGoal('change-tokens')\n    },\n    [defaultValue, path, type, name],\n  )\n\n  const handleColorChange = useCallback(\n    (color) => {\n      variablesChange({\n        path,\n        name,\n        value: color,\n        changed: color !== defaultValue,\n        type: 'color',\n      })\n    },\n    [defaultValue, path, name],\n  )\n\n  const handleLink = (token: string) => {\n    tokenChange(token)\n  }\n\n  const handleClear = useCallback(() => {\n    variablesChange({\n      path,\n      name,\n      value: defaultValue,\n      changed: false,\n      type: 'color',\n    })\n  }, [defaultValue, name, path])\n\n  const inner = useMemo(() => {\n    switch (props.type) {\n      case 'text':\n        return <Text handleChange={handleTextChange} {...props} />\n      case 'color':\n        return <Color handleLink={handleLink} handleColorChange={handleColorChange} {...props} />\n      case 'link':\n        return <Link handleLink={handleLink} {...props} />\n    }\n    // @ts-expect-error\n  }, [props.type, props.color, props.colorValue, props.value])\n\n  return (\n    <>\n      <TextinputBase label={label} tip={description}>\n        {inner}\n      </TextinputBase>\n      {type === 'color' && changed && (\n        <TokenPrevious color={defaultValue} handleClick={handleClear} />\n      )}\n    </>\n  )\n}\n","import React, { FC, useRef } from 'react'\nimport { UseButtonProps, useButton } from 'web-platform-alpha'\nimport { cn } from '@bem-react/classname'\n\nimport { EllipsesIcon } from '../../../../../icons'\n\nimport './ExpandButton.css'\n\ntype ExpandButtonProps = UseButtonProps & {\n  amount: number\n  className?: string\n}\n\nexport const cnExpandButton = cn('ExpandButton')\n\nexport const ExpandButton: FC<ExpandButtonProps> = ({ className, amount, ...props }) => {\n  const ref = useRef<HTMLButtonElement>(null)\n  const { buttonProps } = useButton(props, ref)\n\n  return (\n    <button {...buttonProps} ref={ref} className={cnExpandButton(null, [className])}>\n      <EllipsesIcon className={cnExpandButton('Icon')} />\n      <span className={cnExpandButton('Text')}> See all {amount} tokens </span>\n    </button>\n  )\n}\n","import { useStore } from 'effector-react'\nimport React, { FC, useState } from 'react'\nimport { cn } from '@bem-react/classname'\n\nimport { TokenField } from '../TokenField'\nimport { ExpandButton } from '../ExpandButton'\nimport { $tokens, TokenType } from '../../../model'\n\nimport './Tokens.css'\n\nexport type TokensProps = {}\nconst cnTokens = cn('Tokens')\n\nconst AMOUNT_TO_HIDE = 4\n\nconst prettyLabelName = (token: TokenType, group: string) => {\n  if (group === token.label) {\n    const parts = token.label.split('-')\n    return parts[parts.length - 1]\n  }\n\n  return token.label.replace(group + '-', '')\n}\n\nexport const Tokens: FC<TokensProps> = () => {\n  const tokensGroups = useStore($tokens)\n\n  const groups = Object.keys(tokensGroups)\n  const [opened, setOpened] = useState<Array<boolean>>(Array(groups.length).fill(false))\n\n  const handleOpen = (index: number) => {\n    setOpened((prev) => prev.map((val, i) => (i === index ? true : val)))\n  }\n\n  return (\n    <>\n      {groups.map((name, groupIndex) => (\n        <div className={cnTokens('Section')}>\n          <h4 className={cnTokens('SectionHeader')}>{name}</h4>\n\n          <div>\n            {tokensGroups[name].map((token, tokenIndex) => {\n              if (!opened[groupIndex] && tokenIndex > 2) {\n                return <></>\n              }\n\n              return (\n                <TokenField {...token} key={token.label} label={prettyLabelName(token, name)} />\n              )\n            })}\n            {!opened[groupIndex] && tokensGroups[name].length >= AMOUNT_TO_HIDE && (\n              <ExpandButton\n                amount={tokensGroups[name].length}\n                onPress={() => handleOpen(groupIndex)}\n              />\n            )}\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\n","import React, { FC } from 'react'\n\nexport type CodeProps = {}\n\nexport const Code: FC<CodeProps> = () => {\n  return <>Code page</>\n}\n","import React, { useState, FC, useEffect, MouseEvent } from 'react'\nimport { useStore } from 'effector-react'\nimport { cn } from '@bem-react/classname'\nimport { Icon, Button } from 'react-figma-components'\n\nimport { TabsMenu } from '../../../../lib/lego/TabsMenu'\nimport { Divider } from '../../../../lib/lego/Divider'\n\nimport { Settings } from './Settings'\nimport { Tokens } from './Tokens/Tokens'\nimport { Code } from './Code'\n\nimport { $component, $activeTab, activeTabChange } from '../../model'\nimport { $isCombine, isCombineChange, isCombineReset } from '../../../../model/combine'\n\nimport './Playground.css'\n\nconst cnPlayground = cn('Playground')\n\nexport type PlaygroundProps = {\n  className: string\n}\n\nexport const Playground: FC<PlaygroundProps> = ({ className }) => {\n  const component = useStore($component)\n  const combine = useStore($isCombine)\n  const activeTab = useStore($activeTab)\n\n  const handleCombineChange = (e: MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation()\n    isCombineChange()\n  }\n\n  useEffect(() => {\n    if (component === 'overview') {\n      activeTabChange('tokens')\n    }\n  }, [component])\n\n  useEffect(() => isCombineReset, [component, activeTab])\n\n  return (\n    <div className={cnPlayground(null, [className])}>\n      <TabsMenu\n        activeTab={activeTab}\n        tabs={[\n          // Overview page should not have settings tab\n          ...(component !== 'overview'\n            ? [\n                {\n                  id: 'settings',\n                  onClick: () => activeTabChange('settings'),\n                  content: 'Settings',\n                },\n              ]\n            : []),\n          {\n            id: 'tokens',\n            onClick: () => activeTabChange('tokens'),\n            content: component === 'overview' ? 'Global Tokens' : 'Design Tokens',\n          },\n          // { id: 'code', onClick: () => setActiveTab('code'), content: 'Code' },\n        ]}\n        className={cnPlayground('Header')}\n      />\n      <Divider />\n      <div className={cnPlayground('Body')}>\n        {component !== 'overview' && activeTab === 'settings' && <Settings combine={combine} />}\n        {activeTab === 'tokens' && <Tokens />}\n        {activeTab === 'code' && <Code />}\n      </div>\n      {component !== 'overview' && activeTab === 'settings' && (\n        <>\n          <Divider />\n          <div className={cnPlayground('Footer', { active: combine })}>\n            <div\n              className={cnPlayground('Footer-Header')}\n              onClick={(e) => !combine && handleCombineChange(e)}\n            >\n              <div className={cnPlayground('Footer-Header-Title')}>Combine mode </div>\n              <div className={cnPlayground('Footer-Header-Button')}>\n                <Icon\n                  name={combine ? 'minus' : 'plus'}\n                  color={combine ? 'black' : 'black3'}\n                  onClick={handleCombineChange}\n                />\n              </div>\n            </div>\n            {combine && (\n              <>\n                <p>\n                  Option Menu are multiselect now. Choose needed props and generate variants to\n                  Figma canvas\n                </p>\n                <div className={cnPlayground('Footer-Buttons')}>\n                  <Button view=\"secondary\" disabled={!combine}>\n                    Reset Selection\n                  </Button>\n                  <Button view=\"primary\" disabled={!combine}>\n                    Generate Variants\n                  </Button>\n                </div>\n              </>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n","import { combine } from 'effector'\nimport { $theme } from '../../../../model/themes'\nimport { $token, tokenReset } from '../../model'\n\nexport type SelectedTokenType = {}\n\nexport const closeEditor = tokenReset\n\nexport const $selectedToken = combine(\n  { token: $token, theme: $theme },\n  ({ token, theme: { allTokens } }) => ({\n    token,\n    description: allTokens[token]?.description,\n  }),\n)\n","import React, { FC } from 'react'\nimport { useStore } from 'effector-react'\nimport { cn } from '@bem-react/classname'\nimport { Button, Icon, Input, Switch, Textarea } from 'react-figma-components'\n\nimport { Divider } from '../../../../lib/lego/Divider'\nimport { TooltipStateful } from '../../../../lib/lego/Tooltip'\nimport { $selectedToken, closeEditor } from './model'\nimport { TipIcon } from '../../../../icons'\nimport './TokenEditor.css'\n\nexport const cnTokenEditor = cn('TokenEditor')\n\nexport type TokenEditorProps = {\n  className?: string\n}\n\nexport const TokenEditor: FC<TokenEditorProps> = ({ className, ...props }) => {\n  const { token, description } = useStore($selectedToken)\n\n  return (\n    <div className={cnTokenEditor(null, [className])} {...props}>\n      <div className={cnTokenEditor('Header')}>\n        <span>Edit token</span>\n        <Icon\n          name=\"close\"\n          color=\"black\"\n          onClick={closeEditor}\n          className={cnTokenEditor('CloseIcon')}\n        />\n      </div>\n      <Divider />\n      <div className={cnTokenEditor('Description')}>\n        <Input value={token} readOnly />\n        {description && <Textarea value={description} readOnly />}\n      </div>\n      <Divider />\n      <div className={cnTokenEditor('Controls')}>\n        <div className={cnTokenEditor('Header')}>\n          <span>Properties</span>\n          <div className={cnTokenEditor('Switch')}>\n            <Switch />\n            <span>Inheritance</span>\n            <TooltipStateful content=\"You can use formulas in color(value h() s() l() a()) format \">\n              <span>\n                <TipIcon className=\"\" />\n              </span>\n            </TooltipStateful>\n          </div>\n        </div>\n        <div className={cnTokenEditor('Input')}></div>\n        <div className={cnTokenEditor('Actions')}>\n          <Button view=\"primary\">Save Changes</Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { $resolvedTokens } from './resolvedTokens'\n\nexport const $cssVariables = $resolvedTokens.map<Record<string, string>>((tokens) => {\n  return Object.entries(tokens).reduce(\n    (acc, [name, { value }]) => ({\n      ...acc,\n      [`--${name}`]: value,\n    }),\n    {},\n  )\n})\n\nexport const $cssText = $cssVariables.map((variables) => {\n  const cssText = Object.keys(variables).reduce(\n    (acc: string, v: string) => `${acc}  ${v}: ${variables[v]};\\n`,\n    '',\n  )\n  return `:root {\\n${cssText}}`\n})\n","import { createEvent, createStore } from 'effector'\n\nexport const darkToggle = createEvent()\n\nexport const $dark = createStore(false)\n\n$dark.on(darkToggle, (state, _) => !state)\n","import { createEffect, createEvent, createStore, forward } from 'effector'\nimport { createGate } from 'effector-react'\nimport { getQueryParameter } from '../utils/queryParameters'\n\nexport type ViewType = 'figma' | 'web'\n\nexport const viewChange = createEvent<ViewType>()\n\nexport const $view = createStore<ViewType>('figma')\nexport const $isFigma = $view.map((state) => state === 'figma')\n\nexport const initializeView = createEffect(async () => {\n  const isFigma = getQueryParameter('figma')\n  viewChange(isFigma === 'true' ? 'figma' : 'web')\n})\n\nexport const viewInitializationGate = createGate()\n\n$view.on(viewChange, (_, payload) => payload)\n\nforward({\n  from: viewInitializationGate.open,\n  to: initializeView,\n})\n","import React from 'react'\nimport { useStore } from 'effector-react'\n\nimport { $dark } from '../../../../../../../model/dark'\nimport './Headline.css'\n\nexport const Headline: React.FC = ({ children }) => {\n  const dark = useStore($dark)\n  return <div className={`Headline ${dark && 'Headline_dark'}`}>{children}</div>\n}\n","import { useEffect } from 'react'\nimport { sendToFigma } from '../utils/figma'\n\ninterface ComponentParams {\n  name: string\n  props: unknown\n}\n\nconst fixYOffset = 44\n\nexport const useDragToFigma = (\n  elementRef: React.RefObject<HTMLElement>,\n  dragRef: React.RefObject<HTMLElement>,\n  params: ComponentParams,\n) => {\n  useEffect(() => {\n    let offsetX = 0\n    let offsetY = 0\n    let iframeX = 0\n    let iframeY = 0\n\n    if (!dragRef?.current || !elementRef?.current) return\n\n    const dragElem = dragRef.current\n\n    const dragStartHandler = (e: DragEvent) => {\n      // const { offsetX, offsetY } = e.nativeEvent;\n      //@ts-ignore\n      e.dataTransfer.effectAllowed = 'copyMove'\n      //@ts-ignore\n      e.dataTransfer.setData('text/plain', e.currentTarget?.innerHTML)\n      //@ts-ignore\n      e.dataTransfer.dropEffect = 'copy'\n      // Getting the offset position (The position of the cursor relative to the top-left corner of item being dragged)\n\n      offsetX = e.offsetX\n      offsetY = e.offsetY\n      iframeX = e.screenX - e.clientX\n      iframeY = e.screenY - e.clientY\n    }\n\n    const dragEndHandler = (e: DragEvent) => {\n      // Don't proceed if the item was dropped inside the plugin window.\n      // if (e.view?.length === 0) return;\n\n      // Getting the size of the app/browser window.\n      const windowSize = {\n        width: window.outerWidth,\n        height: window.outerHeight,\n      }\n\n      // Getting the position of the cursor relative to the top-left corner of the browser page (Where the hamburger icon is)\n      const dropPosition = {\n        clientX: iframeX + e.clientX - window.screenLeft,\n        clientY: iframeY + e.clientY - window.screenTop - fixYOffset,\n      }\n\n      // These are the offsets set from the dragstart event.\n      const offset = {\n        x: offsetX,\n        y: offsetY,\n      }\n      sendToFigma({\n        position: { offset, dropPosition, windowSize },\n        elem: elementRef.current as HTMLElement,\n        name: params.name,\n        // props: params.props,\n        props: {},\n      })\n    }\n\n    dragElem?.addEventListener('dragstart', dragStartHandler)\n    dragElem?.addEventListener('dragend', dragEndHandler)\n\n    return () => {\n      dragElem?.removeEventListener('dragstart', dragStartHandler)\n      dragElem?.removeEventListener('dragend', dragEndHandler)\n    }\n  }, [dragRef, elementRef, params.props, params.name])\n}\n","import { htmlToFigma } from 'html-figma/browser'\n\ninterface SendToFigmaParams {\n  id?: string\n  props: unknown\n  name: string\n  elem: HTMLElement\n  position: {\n    dropPosition: { clientX: number; clientY: number }\n    offset: {\n      x: number\n      y: number\n    }\n    windowSize: { width: number; height: number }\n  }\n}\n\nexport const sendToFigma = ({ id, props = {}, name, elem, position }: SendToFigmaParams) => {\n  const result = elem ? htmlToFigma(elem) : null\n\n  window.parent.postMessage(\n    {\n      pluginMessage: {\n        type: 'import',\n        figmaId: id,\n        data: {\n          // @ts-ignore\n          layers: result,\n          props,\n          name,\n          position,\n        },\n      },\n    },\n    '*',\n  )\n}\n","import React, { createElement, useRef } from 'react'\nimport { cn } from '@bem-react/classname'\n\n\nimport './ComponentWrapper.css';\nimport { useDragToFigma } from '../../../../hooks/dragToFigma';\nimport { AllComponentsNames, getComponentByName } from '../../../../utils/getComponentByName';\n\nconst cnComponentWrapper = cn('ComponentWrapper')\n\nexport const ComponentWrapper: React.FC<{\n  __name: AllComponentsNames\n  props: unknown\n}> = React.forwardRef((props, ref) => {\n  const { __name, ...componentProps } = props\n  const component = getComponentByName(__name);\n  const componentRef = useRef<HTMLElement>(null)\n  const dragRef = useRef(null)\n\n  useDragToFigma(dragRef, dragRef, { name: __name, props: componentProps })\n\n  return (\n    <div ref={dragRef} draggable className={cnComponentWrapper()}>\n      <div className={cnComponentWrapper('Element')}>\n        {\n          // @ts-expect-error\n          createElement(component, {\n            ...componentProps,\n            // ref\n          })\n        }\n      </div>\n    </div>\n  )\n})\n","import React, { createElement } from 'react'\nimport { ComponentWrapper } from '../pages/componentsPage/components/ComponentWrapper/ComponentWrapper'\nimport { AllComponentsNames, AllComponentsTypes } from './getComponentByName'\n\n// function getWrappedComponent<T extends AllComponentsNames>(name: T) => (props: AllComponentsTypes[T]) => React.FC<unknown>\n\nexport function getWrappedComponent<T extends AllComponentsNames>(\n  name: T,\n): React.FC<AllComponentsTypes[T]> {\n  return (props, ref) =>\n    createElement(\n      ComponentWrapper,\n      // @ts-ignore\n      { ...props, __name: name, ref },\n    )\n}\n","import React, { Fragment } from 'react'\nimport { useStore } from 'effector-react'\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nimport { $isFigma } from '../../../../../../../model/view'\nimport { Headline } from '../Headline'\n\nconst Button = getWrappedComponent('Button')\n\nexport const ButtonShowcase = () => {\n  const isFigma = useStore($isFigma)\n  const view = ['default', 'action', 'pseudo', 'link', 'clear', 'raised']\n  const size = ['s', 'm', 'l']\n\n  return (\n    <>\n      <Headline>Button</Headline>\n      {view.map((view: any) => (\n        <Fragment key={view}>\n          <p>View: {view}</p>\n          <div\n            className=\"Showcase-Item\"\n            style={{\n              display: 'flex',\n              width: 250,\n              marginBottom: 30,\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: isFigma ? 'column' : 'row',\n                alignItems: isFigma ? 'flex-start' : 'center',\n                flexBasis: '50%',\n                marginRight: isFigma ? 0 : 40,\n              }}\n            >\n              {size.map((size: any) => (\n                <div style={{ marginBottom: 16 }} key={`${view}-${size}`}>\n                  <Button view={view} size={size}>\n                    Button\n                  </Button>\n                </div>\n              ))}\n            </div>\n\n            <div\n              style={{\n                display: 'flex',\n                alignItems: isFigma ? 'flex-start' : 'center',\n                flexDirection: isFigma ? 'column' : 'row',\n              }}\n            >\n              <div style={{ marginBottom: 16 }}>\n                <Button view={view} size=\"s\" disabled>\n                  Button\n                </Button>\n              </div>\n              <div style={{ marginBottom: 16 }}>\n                <Button view={view} size=\"m\" checked>\n                  Button\n                </Button>\n              </div>\n              <div style={{ marginBottom: 16 }}>\n                <Button view={view} size=\"l\" progress>\n                  Button\n                </Button>\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      ))}\n    </>\n  )\n}\n","import React from 'react'\nimport { useStore } from 'effector-react'\n\nimport { $isFigma } from '../../../../../../../model/view'\nimport { Headline } from '../Headline'\nimport { Fragment } from 'react'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Checkbox = getWrappedComponent('Checkbox')\n\nexport const CheckboxShowcase = () => {\n  const isFigma = useStore($isFigma)\n  const view = ['outline', 'default']\n  const size = ['s', 'm']\n\n  return (\n    <>\n      <Headline>Checkbox</Headline>\n      {!isFigma &&\n        view.map((view: any) => (\n          <Fragment key={view}>\n            <p>View: {view}</p>\n            <div className=\"Showcase-Item\" style={{ display: 'flex', width: 250 }}>\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: isFigma ? 'column' : 'row',\n                  alignItems: isFigma ? 'flex-start' : 'center',\n                  flexBasis: '50%',\n                  marginRight: isFigma ? 0 : 40,\n                }}\n              >\n                {size.map((size: any) => (\n                  <div\n                    style={{\n                      marginBottom: 16,\n                      marginRight: 20,\n                    }}\n                    key={`${view}-${size}`}\n                  >\n                    <Checkbox view={view} size={size} label=\"Label\" />\n                  </div>\n                ))}\n              </div>\n\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: isFigma ? 'flex-start' : 'center',\n                  flexDirection: isFigma ? 'column' : 'row',\n                }}\n              >\n                <div\n                  style={{\n                    marginBottom: 16,\n                    marginRight: 20,\n                  }}\n                >\n                  <Checkbox view={view} size=\"s\" label=\"Label\" disabled />\n                </div>\n                <div\n                  style={{\n                    marginBottom: 16,\n                    marginRight: 20,\n                  }}\n                >\n                  <Checkbox view={view} size=\"m\" label=\"Label\" indeterminate />\n                </div>\n                <div\n                  style={{\n                    marginBottom: 16,\n                    marginRight: 20,\n                  }}\n                >\n                  <Checkbox view={view} size=\"m\" label=\"Label\" checked />\n                </div>\n              </div>\n            </div>\n          </Fragment>\n        ))}\n      {isFigma && (\n        <div className=\"Showcase-Item\">\n          <p>View: Outline </p>\n          <Checkbox size=\"s\" view=\"outline\" label=\"Label\" checked />\n          <Checkbox size=\"s\" view=\"outline\" label=\"Label\" />\n          <Checkbox size=\"s\" view=\"outline\" label=\"Label\" disabled />\n          <Checkbox size=\"s\" view=\"outline\" label=\"Label\" indeterminate />\n          <br />\n          <br />\n          <Checkbox size=\"m\" view=\"outline\" label=\"Label\" checked />\n          <Checkbox size=\"m\" view=\"outline\" label=\"Label\" />\n          <Checkbox size=\"m\" view=\"outline\" label=\"Label\" disabled />\n          <Checkbox size=\"m\" view=\"outline\" label=\"Label\" indeterminate />\n          <br />\n          <br />\n          <p>View: Default </p>\n          <Checkbox size=\"m\" view=\"default\" label=\"Label\" checked />\n          <Checkbox size=\"m\" view=\"default\" label=\"Label\" />\n          <Checkbox size=\"m\" view=\"default\" label=\"Label\" disabled />\n          <Checkbox size=\"m\" view=\"default\" label=\"Label\" indeterminate />\n          <br />\n          <br />\n          <Checkbox size=\"s\" view=\"default\" label=\"Label\" checked />\n          <Checkbox size=\"s\" view=\"default\" label=\"Label\" />\n          <Checkbox size=\"s\" view=\"default\" label=\"Label\" disabled />\n          <Checkbox size=\"s\" view=\"default\" label=\"Label\" indeterminate />\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Button as ButtonBase } from '@yandex-lego/components/Button'\nimport { Textinput as TextinputBase, withHasClear } from '@yandex-lego/components/Textinput/desktop'\nimport { Header, HeaderSearch, HeaderNav, HeaderNavItem } from '@yandex-lego/components/Header/desktop'\nimport { withViewSearchArrow as withViewSearchArrowButton } from '@yandex-lego/components/Header/Button'\nimport { withViewSearchArrow as withViewSearchArrowTextinput } from '@yandex-lego/components/Header/Textinput'\n\nimport { Headline } from '../Headline'\n\nconst SearchButton = withViewSearchArrowButton(ButtonBase)\nconst SearchInput = withHasClear(withViewSearchArrowTextinput(TextinputBase))\n\nexport const HeaderShowcase = () => {\n  return (\n    <>\n      <Headline> Header </Headline>\n      <div className=\"Showcase-Item\">\n        <Header className=\"SearchHeader\">\n          <HeaderSearch action=\"//yandex.ru/search\">\n            <SearchInput view=\"search-arrow\" name=\"text\" hasClear value=\"Yandex\" />\n            <SearchButton view=\"search-arrow\">  </SearchButton>\n          </HeaderSearch>\n        </Header>\n        <br /> <br />\n        <Header className=\"SearchHeader\">\n          <HeaderSearch action=\"//yandex.ru/search\">\n            <HeaderNav>\n              <HeaderNavItem href=\"/\">  </HeaderNavItem>\n              <HeaderNavItem href=\"/\">  </HeaderNavItem>\n              <HeaderNavItem href=\"/\">  </HeaderNavItem>\n              <HeaderNavItem href=\"/\" active>\n                \n              </HeaderNavItem>\n            </HeaderNav>\n          </HeaderSearch>\n        </Header>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Link = getWrappedComponent('Link')\n\nexport const LinkShowcase = () => {\n  return (\n    <>\n      <Headline>Link</Headline>\n      <div className=\"Showcase-Item\">\n        <Link href=\"https://ya.ru\" view=\"default\">\n          \n        </Link>\n        <br />\n        <Link view=\"default\" pseudo>\n          \n        </Link>\n        <br />\n        <Link href=\"https://ya.ru\" view=\"default\" disabled>\n          \n        </Link>\n      </div>\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Menu = getWrappedComponent('Menu')\n\nexport const MenuShowcase = () => {\n  const items = [\n    { value: 'a', content: '' },\n    { value: 'b', content: '' },\n    {\n      items: [\n        { value: 'c', content: '', disabled: true },\n        { value: 'd', content: '' },\n        { value: 'e', content: '' },\n      ],\n    },\n  ]\n\n  const [value, setValue] = useState('a')\n\n  return (\n    <>\n      <Headline>Menu</Headline>\n      <div className=\"Showcase-Item\">\n        <Menu\n          size=\"m\"\n          theme=\"normal\"\n          items={items}\n          value={value}\n          onChange={(event: any) => setValue(event.target.value)}\n        />\n        <Menu\n          size=\"s\"\n          theme=\"normal\"\n          items={items}\n          value={value}\n          onChange={(event: any) => setValue(event.target.value)}\n        />\n      </div>\n      <div className=\"Showcase-Item\">\n        <Menu\n          size=\"m\"\n          view=\"default\"\n          items={items}\n          value={value}\n          onChange={(event: any) => setValue(event.target.value)}\n        />\n        <Menu\n          size=\"s\"\n          view=\"default\"\n          items={items}\n          value={value}\n          onChange={(event: any) => setValue(event.target.value)}\n        />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Progress = getWrappedComponent('Progress')\n\nexport const ProgressShowcase = () => {\n  return (\n    <>\n      <Headline>Progres</Headline>\n      <div className=\"Showcase-Item\">\n        <Progress timing=\"linear\" value={50} maxValue={100} />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Radiobox = getWrappedComponent('Radiobox')\n\nexport const RadioboxShowcase = () => {\n  const options = [\n    { label: 'Option A', value: 'a' },\n    { label: 'Option B', value: 'b' },\n    { label: 'Option C (disabled)', value: 'c', disabled: true },\n  ]\n\n  return (\n    <>\n      <Headline>Radiobox</Headline>\n      <div className=\"Showcase-Item\">\n        <Radiobox size=\"m\" view=\"default\" value=\"a\" options={options} />\n        <br />\n        <Radiobox size=\"s\" view=\"default\" value=\"a\" options={options} />\n      </div>\n      <div className=\"Showcase-Item\">\n        <Radiobox size=\"m\" view=\"outline\" value=\"a\" options={options} />\n        <br />\n        <Radiobox size=\"s\" view=\"outline\" value=\"a\" options={options} />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst RadioButton = getWrappedComponent('RadioButton')\n\nexport const RadioButtonShowcase = () => {\n  const options = [\n    { value: 'a', children: 'Option A' },\n    { value: 'b', children: 'Option B' },\n    { value: 'c', children: 'Option C' },\n  ]\n\n  return (\n    <>\n      <Headline>RadioButton</Headline>\n      <div className=\"Showcase-Item\">\n        <RadioButton size=\"l\" view=\"default\" value=\"a\" options={options} />\n        <br />\n        <br />\n        <RadioButton size=\"m\" view=\"default\" value=\"a\" options={options} />\n        <br />\n        <br />\n        <RadioButton size=\"s\" view=\"default\" value=\"a\" options={options} />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Spin = getWrappedComponent('Spin')\n\nexport const SpinShowcase = () => {\n  return (\n    <>\n      <Headline>Spin</Headline>\n      <div className=\"Showcase-Item\">\n        <Spin progress view=\"default\" size=\"l\" />\n        <Spin progress view=\"default\" size=\"m\" />\n        <Spin progress view=\"default\" size=\"s\" />\n        <Spin progress view=\"default\" size=\"xs\" />\n        <Spin progress view=\"default\" size=\"xxs\" />\n      </div>\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Textarea = getWrappedComponent('Textarea')\n\nexport const TextareaShowcase = () => {\n  const [value1, setValue1] = useState('')\n\n  return (\n    <>\n      <Headline>Textarea</Headline>\n      <div className=\"Showcase-Item\">\n        <Textarea\n          hasClear\n          size=\"m\"\n          view=\"default\"\n          value={value1}\n          // @ts-expect-error\n          onChange={(event) => setValue1(event.target.value)}\n          onClearClick={() => setValue1('')}\n        />\n        <br />\n        <br />\n        <Textarea\n          hasClear\n          size=\"s\"\n          view=\"default\"\n          value={value1}\n          // @ts-expect-error\n          onChange={(event) => setValue1(event.target.value)}\n          onClearClick={() => setValue1('')}\n        />\n        <br />\n        <br />\n        <Textarea\n          hasClear\n          size=\"s\"\n          view=\"default\"\n          value={value1}\n          // @ts-expect-error\n          onChange={(event) => setValue1(event.target.value)}\n          onClearClick={() => setValue1('')}\n          state=\"error\"\n          hint=\"Error message\"\n        />\n      </div>\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Textinput = getWrappedComponent('Textinput')\n\nexport const TextinputShowcase = () => {\n  const [value1, setValue1] = useState('')\n  const [value2, setValue2] = useState('')\n  const [value3, setValue3] = useState('')\n  const [value4, setValue4] = useState('')\n  const [value5, setValue5] = useState('')\n  const [value6, setValue6] = useState('')\n\n  return (\n    <>\n      <Headline>Textinput</Headline>\n      <div className=\"Showcase-Item\" style={{ whiteSpace: 'normal' }}>\n        <div style={{ padding: 4 }}>\n          <Textinput\n            hasClear\n            size=\"m\"\n            view=\"default\"\n            value={value1}\n            // @ts-expect-error\n            onChange={(event) => setValue1(event.target.value)}\n            onClearClick={() => setValue1('')}\n          />\n        </div>\n        <div style={{ padding: 4 }}>\n          <Textinput\n            hasClear\n            size=\"s\"\n            view=\"default\"\n            value={value2}\n            // @ts-expect-error\n\n            onChange={(event) => setValue2(event.target.value)}\n            onClearClick={() => setValue2('')}\n          />\n        </div>\n        <div style={{ padding: 4 }}>\n          <Textinput\n            hasClear\n            size=\"s\"\n            view=\"default\"\n            value={value3}\n            // @ts-expect-error\n\n            onChange={(event) => setValue3(event.target.value)}\n            onClearClick={() => setValue3('')}\n            state=\"error\"\n            hint=\"Error message\"\n          />\n        </div>\n      </div>\n      <div style={{ padding: 4 }}>\n        <Textinput\n          hasClear\n          size=\"s\"\n          label=\"Label\"\n          view=\"material\"\n          value={value4}\n            // @ts-expect-error\n\n          onChange={(event) => setValue4(event.target.value)}\n          onClearClick={() => setValue4('')}\n        />\n      </div>\n      <div style={{ padding: 4 }}>\n        <Textinput\n          hasClear\n          label=\"Label\"\n          size=\"m\"\n          view=\"material\"\n          value={value5}\n            // @ts-expect-error\n\n          onChange={(event) => setValue5(event.target.value)}\n          onClearClick={() => setValue5('')}\n        />\n      </div>\n      <div style={{ padding: 4 }}>\n        <Textinput\n          hasClear\n          label=\"Label\"\n          size=\"m\"\n          view=\"material\"\n          value={value6}\n            // @ts-expect-error\n\n          onChange={(event) => setValue6(event.target.value)}\n          onClearClick={() => setValue6('')}\n          state=\"error\"\n          hint=\"Error message\"\n        />\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Text = getWrappedComponent('Text')\n\nexport const TextShowcase = () => {\n  return (\n    <>\n      <Headline>Text</Headline>\n      <div className=\"Showcase-Item\">\n        <Text as=\"div\" style={{ whiteSpace: 'normal' }}>\n                      .\n        </Text>\n      </div>\n    </>\n  )\n}\n","import React, { useState, useRef } from 'react'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Tooltip = getWrappedComponent('Tooltip')\n\nexport const TooltipShowcase = () => {\n  const [visible1, setVisible1] = useState(true)\n  const [visible2, setVisible2] = useState(true)\n  const [visible3, setVisible3] = useState(true)\n  const [visible4, setVisible4] = useState(true)\n  const [visible5, setVisible5] = useState(true)\n  const [visible6, setVisible6] = useState(true)\n  const anchorRef1 = useRef<HTMLDivElement>(null)\n  const anchorRef2 = useRef<HTMLDivElement>(null)\n  const anchorRef3 = useRef<HTMLDivElement>(null)\n  const anchorRef4 = useRef<HTMLDivElement>(null)\n  const anchorRef5 = useRef<HTMLDivElement>(null)\n  const anchorRef6 = useRef<HTMLDivElement>(null)\n  const scopeRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <>\n      <Headline>Tooltip</Headline>\n      <div className=\"Showcase-Item\">\n        <div\n          style={{\n            position: 'relative',\n            display: 'flex',\n            height: 96,\n          }}\n          ref={scopeRef}\n        >\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef1}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible1(!visible1)}\n            >\n              Target\n            </Button>\n          </div>\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef2}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible2(!visible2)}\n            >\n              Target\n            </Button>\n          </div>\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef3}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible3(!visible3)}\n            >\n              Target\n            </Button>\n          </div>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"s\"\n            anchor={anchorRef1}\n            scope={scopeRef}\n            visible={visible1}\n          >\n            Size small\n          </Tooltip>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"m\"\n            anchor={anchorRef2}\n            scope={scopeRef}\n            visible={visible2}\n          >\n            Size medium\n          </Tooltip>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"l\"\n            anchor={anchorRef3}\n            scope={scopeRef}\n            visible={visible3}\n          >\n            Size large\n          </Tooltip>\n        </div>\n      </div>\n      <div className=\"Showcase-Item\">\n        <div\n          style={{\n            position: 'relative',\n            display: 'flex',\n            height: 96,\n          }}\n          ref={scopeRef}\n        >\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef4}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible4(!visible4)}\n            >\n              Target\n            </Button>\n          </div>\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef5}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible5(!visible5)}\n            >\n              Target\n            </Button>\n          </div>\n          <div style={{ marginRight: 32 }}>\n            <Button\n              innerRef={anchorRef6}\n              size=\"m\"\n              view=\"default\"\n              onClick={() => setVisible6(!visible6)}\n            >\n              Target\n            </Button>\n          </div>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"s\"\n            state=\"warning\"\n            anchor={anchorRef4}\n            scope={scopeRef}\n            visible={visible4}\n          >\n            Size small\n          </Tooltip>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"m\"\n            state=\"success\"\n            anchor={anchorRef5}\n            scope={scopeRef}\n            visible={visible5}\n          >\n            Size medium\n          </Tooltip>\n          <Tooltip\n            hasTail\n            direction=\"bottom\"\n            view=\"default\"\n            size=\"l\"\n            state=\"alert\"\n            anchor={anchorRef6}\n            scope={scopeRef}\n            visible={visible6}\n          >\n            Size large\n          </Tooltip>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, { useState } from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\nconst Tumbler = getWrappedComponent('Tumbler')\n\nexport const TumblerShowcase = () => {\n  const [checked1, setChecked1] = useState(true)\n  const [checked2, setChecked2] = useState(false)\n\n  return (\n    <>\n      <Headline>Tumbler</Headline>\n      <div className=\"Showcase-Item\">\n        <>\n          <div style={{ marginBottom: 8 }}>\n            <Tumbler\n              size=\"m\"\n              view=\"default\"\n              checked={checked1}\n              onChange={() => setChecked1(!checked1)}\n              labelBefore=\"labelBefore\"\n            />\n          </div>\n          <div style={{ marginBottom: 8 }}>\n            <Tumbler\n              size=\"m\"\n              view=\"default\"\n              checked\n              disabled\n              onChange={() => {}}\n              labelAfter=\"disabled check\"\n            />\n          </div>\n          <div style={{ marginBottom: 8 }}>\n            <Tumbler\n              size=\"s\"\n              view=\"default\"\n              checked={checked2}\n              onChange={() => setChecked2(!checked2)}\n              labelAfter=\"labelAfter\"\n            />\n          </div>\n          <div style={{ marginBottom: 8 }}>\n            <Tumbler\n              size=\"l\"\n              view=\"default\"\n              checked={false}\n              disabled\n              onChange={() => {}}\n              labelBefore={\n                <svg\n                  aria-label=\"labelBefore\"\n                  width=\"16\"\n                  height=\"16\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M3.5 7.003a1.5 1.5 0 0 0-1.5 1.5v6a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-6a1.5 1.5 0 0 0-1.5-1.5H12v-2a4 4 0 0 0-8 0v2h-.5zm2.5-2a2 2 0 1 1 4 0V7H6V5.003z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n              }\n              labelAfter=\"disabled\"\n            />\n          </div>\n        </>\n      </div>\n    </>\n  )\n}\n","import React, { createElement, ComponentType } from 'react'\nimport { useStore } from 'effector-react'\n\nimport { $dark } from '../../../../../../model/dark'\nimport { $isFigma } from '../../../../../../model/view'\n\nimport { AttachShowcase } from './Showcases/AttachShowcase'\nimport { BadgeShowcase } from './Showcases/BadgeShowcase'\nimport { ButtonGroupShowcase } from './Showcases/ButtonGroupShowcase'\nimport { ButtonShowcase } from './Showcases/ButtonShowcase'\nimport { CheckboxShowcase } from './Showcases/CheckboxShowcase'\nimport { DividerShowcase } from './Showcases/DividerShowcase'\nimport { HeaderShowcase } from './Showcases/HeaderShowcase'\nimport { LinkShowcase } from './Showcases/LinkShowcase'\nimport { MenuShowcase } from './Showcases/MenuShowcase'\nimport { MessageBoxShowcase } from './Showcases/MessageBoxShowcase'\nimport { ProgressShowcase } from './Showcases/ProgressShowcase'\nimport { RadioboxShowcase } from './Showcases/RadioboxShowcase'\nimport { RadioButtonShowcase } from './Showcases/RadioButtonShowcase'\nimport { SliderShowcase } from './Showcases/SliderShowcase'\nimport { SpinShowcase } from './Showcases/SpinShowcase'\nimport { TabsMenuShowcase } from './Showcases/TabsMenuShowcase'\nimport { TextareaShowcase } from './Showcases/TextareaShowcase'\nimport { TextinputShowcase } from './Showcases/TextinputShowcase'\nimport { TextShowcase } from './Showcases/TextShowcase'\nimport { TooltipShowcase } from './Showcases/TooltipShowcase'\nimport { TumblerShowcase } from './Showcases/TumblerShowcase'\nimport { UserPicShowcase } from './Showcases/UserPicShowcase'\n\nimport './Overview.css'\n\nconst componentsMap: Record<string, ComponentType> = {\n  attach: AttachShowcase,\n  badge: BadgeShowcase,\n  button: ButtonShowcase,\n  buttonGroup: ButtonGroupShowcase,\n  checkbox: CheckboxShowcase,\n  divider: DividerShowcase,\n  header: HeaderShowcase,\n  link: LinkShowcase,\n  menu: MenuShowcase,\n  messageBox: MessageBoxShowcase,\n  progress: ProgressShowcase,\n  radiobox: RadioboxShowcase,\n  radioButton: RadioButtonShowcase,\n  spin: SpinShowcase,\n  tabsMenu: TabsMenuShowcase,\n  text: TextShowcase,\n  textarea: TextareaShowcase,\n  textinput: TextinputShowcase,\n  tooltip: TooltipShowcase,\n  tumbler: TumblerShowcase,\n  userPic: UserPicShowcase,\n  slider: SliderShowcase,\n}\n\nexport const Overview: React.FC<any> = (props) => {\n  const dark = useStore($dark)\n  const isFigma = useStore($isFigma)\n\n  return (\n    <div className={`Overview ${dark ? 'Overview_dark' : ''} ${isFigma ? 'Overview_figma' : ''}`}>\n      {Object.entries(componentsMap).map(([componentName, component]) =>\n        createElement(component, { key: componentName }),\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useStore } from 'effector-react'\n\nimport { $isFigma } from '../../../../../../../model/view'\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const Attach = getWrappedComponent('Attach');\n\nexport const AttachShowcase = () => {\n  const isFigma = useStore($isFigma)\n\n  return (\n    <>\n      <Headline>Attach</Headline>\n      {isFigma ? (\n        <>\n          {/* <div className=\"Showcase-Item\">\n            <Attach size=\"s\" view=\"default\">\n              Select file\n            </Attach>\n          </div>\n          <div className=\"Showcase-Item\">\n            <Attach size=\"m\" view=\"default\">\n              Select file\n            </Attach>\n          </div>\n          <div className=\"Showcase-Item\">\n            <Attach size=\"l\" view=\"default\">\n              Select file\n            </Attach>\n          </div> */}\n        </>\n      ) : (\n        <>\n          {/* <div className=\"Showcase-Item Showcase-Attach\">\n            <Attach size=\"s\" view=\"default\">\n              Select file\n            </Attach>\n            <Attach size=\"m\" view=\"default\">\n              Select file\n            </Attach>\n            <Attach size=\"l\" view=\"default\">\n              Select file\n            </Attach>\n          </div> */}\n        </>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const Badge = getWrappedComponent('Badge');\n\nconst IconTwo = () => (\n  <svg fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n    <path d=\"M4.5 18a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0-3a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5zm11 3a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0-3a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5zM19 4H5.78L4.97.758A.998.998 0 0 0 4 0H1a1 1 0 0 0 0 2h2.22l.805 3.222.01.042 1.995 7.98a1 1 0 0 0 1.135.743l11.017-1.837c1.02-.17 1.818-1.11 1.818-2.14V5a1 1 0 0 0-1-1zm-1 6.01c0 .05-.085.157-.146.167L7.746 11.862 6.28 6H18v4.01z\" />\n  </svg>\n)\n\nexport const BadgeShowcase = () => {\n  return (\n    <>\n      <Headline>Badge</Headline>\n      <div\n        className=\"Showcase-Item\"\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          width: 250,\n        }}\n      >\n        {/* <Badge />\n\n        <Badge content=\"?\" />\n\n        <Badge content={5}>\n          <IconTwo />\n        </Badge>\n\n        <Button view=\"default\" size=\"m\">\n          \n          <Badge color=\"#0679ff\" outlineColor=\"#0679ff\" content={5} style={{ marginLeft: 5 }} />\n        </Button> */}\n      </div>\n    </>\n  )\n}\n","import React, { Fragment } from 'react'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const ButtonGroup = getWrappedComponent('ButtonGroup')\n\nexport const ButtonGroupShowcase = () => {\n  const gaps = [undefined, 's', 'm', 'l', 'xl'] as ('s' | 'm' | 'l' | 'xl')[]\n  const pins = ['circle', 'round'] as ('circle' | 'round')[]\n\n  return (\n    <>\n      <Headline>ButtonGroup</Headline>\n      <div className=\"Showcase-Item\">\n        {gaps.map((gap, index) => (\n          <Fragment key={`${gap}-${index}`}>\n            {index !== 0 && (\n              <>\n                {' '}\n                <br /> <br />{' '}\n              </>\n            )}\n            <p> Gap: {gap || 'no gap'} </p>\n            {/* <ButtonGroup gap={gap}>\n              <Button view=\"default\" size=\"m\">\n                Button 1\n              </Button>\n              <Button view=\"default\" size=\"m\">\n                Button 2\n              </Button>\n              <Button view=\"default\" size=\"m\">\n                Button 3\n              </Button>\n            </ButtonGroup> */}\n          </Fragment>\n        ))}\n\n        {pins.map((pin) => (\n          <Fragment key={`${pin}`}>\n            <br /> <br />\n            <p> Pin: {pin} </p>\n            {/* <ButtonGroup pin={pin} key={pin}>\n              <Button view=\"default\" size=\"m\">\n                Button 1\n              </Button>\n              <Button view=\"default\" size=\"m\">\n                Button 2\n              </Button>\n            </ButtonGroup> */}\n          </Fragment>\n        ))}\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const Divider = getWrappedComponent('Divider');\n\nexport const DividerShowcase = () => {\n  return (\n    <>\n      <Headline>Divider</Headline>\n      <div className=\"Showcase-Item\">\n        {/* <Divider style={{ margin: '8px 0' }}>\n          <p>Section</p>\n        </Divider> */}\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const MessageBox = getWrappedComponent('MessageBox');\n\nexport const MessageBoxShowcase = () => {\n  return (\n    <>\n      <Headline>MessageBox</Headline>\n      {/* <div className=\"Showcase-Item\">\n        <div style={{ marginBottom: '16px' }}>\n          <MessageBox\n            onClose={() => null}\n            view=\"default\"\n            size=\"m\"\n            actions={\n              <>\n                <Button view=\"clear\" size=\"s\">\n                  \n                </Button>\n                <Button view=\"action\" size=\"s\">\n                  \n                </Button>\n              </>\n            }\n          >\n                !\n          </MessageBox>\n        </div>\n        <div style={{ marginBottom: '16px' }}>\n          <MessageBox\n            onClose={() => null}\n            view=\"inverse\"\n            size=\"m\"\n            actions={\n              <>\n                <Button view=\"clear\" size=\"s\">\n                  \n                </Button>\n                <Button view=\"action\" size=\"s\">\n                  \n                </Button>\n              </>\n            }\n          >\n                !\n          </MessageBox>\n        </div>\n        <div style={{ marginBottom: '16px' }}>\n          <MessageBox\n            onClose={() => null}\n            view=\"promo\"\n            size=\"m\"\n            actions={\n              <>\n                <Button view=\"action\" size=\"s\">\n                  \n                </Button>\n              </>\n            }\n          >\n                !\n          </MessageBox>\n        </div>\n      </div> */}\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const TabsMenu = getWrappedComponent('TabsMenu');\n\nexport const TabsMenuShowcase = () => {\n  return (\n    <>\n      <Headline>TabsMenu</Headline>\n      <div className=\"Showcase-Item\">\n        {/* <TabsMenu\n          size=\"m\"\n          view=\"default\"\n          layout=\"horiz\"\n          tabs={[\n            { id: 'search', content: '' },\n            { id: 'images', content: '' },\n            { id: 'video', content: '' },\n          ]}\n          activeTab={'search'}\n        />\n\n        <br />\n        <TabsMenu\n          size=\"s\"\n          view=\"default\"\n          layout=\"horiz\"\n          tabs={[\n            { id: 'search', content: '' },\n            { id: 'images', content: '' },\n            { id: 'video', content: '' },\n          ]}\n          activeTab={'search'}\n        /> */}\n      </div>\n    </>\n  )\n}\n","import React from 'react'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const UserPic = getWrappedComponent('UserPic');\n\nexport const UserPicShowcase = () => {\n  return (\n    <>\n      <Headline>UserPic</Headline>\n      <div className=\"Showcase-Item\">\n        <>\n          {/* <div style={{ marginRight: '20px', display: 'inline-block' }}>\n            <UserPic plus avatarId=\"43978/351415393-30646433\" size=\"m\" />\n          </div>\n          <div style={{ marginRight: '20px', display: 'inline-block' }}>\n            <UserPic avatarId=\"0/0-0\" hasCamera size=\"m\" />\n          </div>\n          <div style={{ marginRight: '20px', display: 'inline-block' }}>\n            <UserPic plus avatarId=\"0/0-0\" hasCamera size=\"s\" />\n          </div>\n          <div style={{ marginRight: '20px', display: 'inline-block' }}>\n            <UserPic\n              lodpiUrl=\"https://jing.yandex-team.ru/files/kri0-gen/halp_orange.jpg\"\n              size=\"s\"\n            />\n          </div> */}\n        </>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { useSliderState } from '@yandex-lego/components/Slider/desktop/bundle'\n\nimport { Headline } from '../Headline'\n\nimport { getWrappedComponent } from '../../../../../../../utils/getWrappedComponent'\n\n// const Slider = getWrappedComponent('Slider');\n\nexport const SliderShowcase = () => {\n  const state1 = useSliderState({ value: [20] })\n  const state2 = useSliderState({ value: [20, 50] })\n\n  const state3 = useSliderState({ value: [20] })\n  const state4 = useSliderState({ value: [20, 50] })\n\n  const state5 = useSliderState({ value: [20] })\n  const state6 = useSliderState({ value: [20, 50] })\n\n  const state7 = useSliderState({ value: [20] })\n  const state8 = useSliderState({ value: [20, 50] })\n\n  const state9 = useSliderState({ value: [20] })\n  const state10 = useSliderState({ value: [20, 50] })\n\n  return (\n    <>\n      <Headline>Slider</Headline>\n      {/* <Slider view=\"default\" {...state1} />\n      <Slider view=\"default\" {...state2} />\n      <Slider filled view=\"default\" {...state3} />\n      <Slider filled view=\"default\" {...state4} />\n      <Slider reverse filled view=\"default\" {...state5} />\n      <Slider reverse filled view=\"default\" {...state6} />\n      <Slider filled step={25} view=\"default\" {...state7} />\n      <Slider filled step={25} view=\"default\" {...state8} />\n      <Slider filled step={20} showTicks showTickValues view=\"default\" {...state9} />\n      <Slider filled showTicks showTickValues step={20} view=\"default\" {...state10} /> */}\n    </>\n  )\n}\n","import { Overview } from './Overview'\n\nexport const Showcases = {\n  overview: Overview,\n}\n","import React, { FC, HTMLProps, useRef } from 'react'\nimport { useButton, UseButtonProps } from 'web-platform-alpha'\nimport { cn } from '@bem-react/classname'\nimport { TooltipStateful } from '../../lib/lego/Tooltip'\n\nimport './IconButtonBase.css'\n\nexport type IconButtonBaseProps = HTMLProps<HTMLButtonElement> &\n  UseButtonProps & {\n    /**\n     * @default false\n     */\n    dark?: boolean\n\n    /**\n     * Tip for tooltip\n     */\n    tip?: string\n  }\n\nexport const cnIconButtonBase = cn('IconButtonBase')\n\nexport const IconButtonBase: FC<IconButtonBaseProps> = ({\n  className,\n  children,\n  dark,\n  tip,\n  ...props\n}) => {\n  const ref = useRef(null)\n  const { buttonProps } = useButton(props, ref)\n\n  return (\n    <TooltipStateful content={tip} dark={dark}>\n      <button {...buttonProps} ref={ref} className={cnIconButtonBase({ dark }, [className])}>\n        {children}\n      </button>\n    </TooltipStateful>\n  )\n}\n","import React, { FC } from 'react'\n\nimport { IconButtonBase, cnIconButtonBase, IconButtonBaseProps } from '../IconButtonBase'\nimport { CloseEyeIcon, OpenEyeIcon } from '../../../icons'\n\nexport const EyeIconButton: FC<IconButtonBaseProps & { close?: boolean }> = ({\n  close,\n  dark,\n  ...props\n}) => {\n  const type = dark ? 'black' : 'white'\n  const tip = close ? 'Show changes' : 'Hide changes'\n\n  return (\n    <IconButtonBase dark={dark} tip={tip} {...props}>\n      {close ? (\n        <CloseEyeIcon type={type} className={cnIconButtonBase('Icon')} />\n      ) : (\n        <OpenEyeIcon type={type} className={cnIconButtonBase('Icon')} />\n      )}\n    </IconButtonBase>\n  )\n}\n","import React, { FC } from 'react'\n\nimport { IconButtonBase, cnIconButtonBase, IconButtonBaseProps } from '../IconButtonBase'\nimport { SunIcon } from '../../../icons'\n\nexport const SunIconButton: FC<IconButtonBaseProps> = ({ dark, ...props }) => {\n  const type = dark ? 'black' : 'white'\n  const tip = dark ? 'Lighten background' : 'Darkent background'\n\n  return (\n    <IconButtonBase dark={dark} tip={tip} {...props}>\n      <SunIcon type={type} className={cnIconButtonBase('Icon')} />\n    </IconButtonBase>\n  )\n}\n","import React, { useState, FC, createElement } from 'react';\nimport { useStore } from 'effector-react';\nimport { merge } from 'lodash';\n\nimport { cnTheme } from '@yandex-lego/components/Theme';\n\nimport { $cssVariables } from '../../../../model/css';\n\nimport { Showcases } from './Showcases';\nimport { $theme } from '../../../../model/themes';\nimport { $dark, darkToggle } from '../../../../model/dark';\nimport { $component, $componentProps } from '../../model';\n\nimport {\n    EyeIconButton,\n    SunIconButton,\n} from '../../../../components/IconButton';\nimport { ComponentWrapper } from '../ComponentWrapper/ComponentWrapper';\nimport { AllComponentsNames } from '../../../../utils/getComponentByName';\nimport { cn } from '@bem-react/classname';\nimport './Showcase.css';\nimport { $isCombine } from '../../../../model/combine';\nimport { combinations } from '../../../../utils/combinations';\n\nexport type ShowcaseProps = {\n    className: string;\n};\n\nconst cnShowcase = cn('Showcase');\n\nconst getVariantsFromProps = (current: Record<string, unknown>, combined: Record<string, unknown>) => {\n    console.log(combined);\n    const variants = Object.keys(combined).map(key => {\n        \n        const values = combined[key];\n        console.log(values);\n        if (Array.isArray(values)) {\n            return (values as Array<string>).map(value => ({ [key]: value }))\n        } else if (typeof values === 'boolean' && values) {\n            return [{ [key]: false }, { [key]: true }]\n        }\n        return [{ [key]: values }]\n    });\n    console.log(variants);\n    const combinedVariants = combinations(variants);\n    console.log(combinedVariants);\n    // @ts-expect-error\n    return combinedVariants.map(variant => ({ ...current, ...merge(...variant as Array<unknown>) }));\n}\n\nexport const Showcase: FC<ShowcaseProps> = ({ className }) => {\n    const [showDiff, setShowDiff] = useState(true);\n\n    const { preset } = useStore($theme);\n    const cssVariables = useStore($cssVariables);\n    const component = useStore($component);\n    const { currentProps, currentCombinedProps } = useStore($componentProps);\n    const combine = useStore($isCombine);\n\n    const dark = useStore($dark);\n\n    const handleSunIconClick = darkToggle;\n    const handleEyeIconClick = () => setShowDiff((prev) => !prev);\n    const componentNormalizedName =\n        component[0].toUpperCase() + component.slice(1);\n\n    return (\n        <>\n            <div\n                className={cnTheme({ ...preset, dark }, [className])}\n                style={showDiff ? cssVariables : {}}\n            >\n                {/* @ts-ignore */}\n                {component === 'overview' ? (\n                    createElement(Showcases[component])\n                ) : (\n                    <div className={cnShowcase('Preview')}>\n                        {\n                        combine ?\n                        <div style={{ display: 'flex', gap: '4px'}}>\n                            {\n                                getVariantsFromProps(currentProps, currentCombinedProps).map(variantProps => {\n                                    console.log(variantProps);\n                                    return (\n                                        // @ts-ignore\n                                        <ComponentWrapper\n                                            __name={componentNormalizedName as AllComponentsNames}\n                                            {...variantProps}\n                                        />\n                                    )\n                                })\n                            }\n                        </div>\n                        : // @ts-ignore\n                        <ComponentWrapper\n                            __name={componentNormalizedName as AllComponentsNames}\n                            {...currentProps}\n                        />\n                        }\n                    </div>\n                )}\n            </div>\n            <SunIconButton\n                dark={dark}\n                onPress={handleSunIconClick}\n                className=\"SunIcon\"\n            />\n            <EyeIconButton\n                dark={dark}\n                onPress={handleEyeIconClick}\n                close={!showDiff}\n                className=\"EyeIcon\"\n            />\n        </>\n    );\n};\n","export const combinations = (values: unknown[][]) => {\n  if (values.length === 0) return []\n\n  return values.reduceRight((res, value) => {\n    return res.length\n      // @ts-ignore\n      ? value.map((a) => res.map((r) => r.concat(a))).flat()\n      : value.map((v) => [v])\n  }, [])\n}\n\nexport const combinationsCount = (values: unknown[][]): number => {\n  return values.reduce((res, v) => res * v.length, 0)\n}\n","import React from 'react'\nimport { useStore } from 'effector-react'\nimport { cn } from '@bem-react/classname'\n\nimport { $theme } from '../../model/themes'\n\nimport './ComponentsPage.css'\nimport { Panels } from './components/Panels'\nimport { Playground } from './components/Playground'\nimport { TokenEditor } from './components/TokenEditor'\nimport { Showcase } from './components/Showcase'\nimport { $component, $tokenPresent, componentChange } from './model'\n\nconst cnComponentsPage = cn('ComponentsPage')\n\nexport const ComponentsPage = () => {\n  const {\n    tokens: { components },\n  } = useStore($theme)\n  const component = useStore($component)\n  const showTokenEditor = useStore($tokenPresent)\n\n  const panels = ['overview', ...Object.keys(components)]\n  const handlePanelSelection = (panel: string) => {\n    componentChange(panel)\n  }\n\n  return (\n    <div className={cnComponentsPage()}>\n      <Panels\n        className={cnComponentsPage('Panels')}\n        panels={panels}\n        activePanel={component}\n        onPanelSelect={handlePanelSelection}\n      />\n      <Showcase className={cnComponentsPage('Showcase')} />\n      <Playground className={cnComponentsPage('Playground')} />\n      {/* <button onClick={() => tokenChange('token-name')}>Token Editor</button> */}\n      {showTokenEditor && <TokenEditor className={cnComponentsPage('TokenEditor')} />}\n    </div>\n  )\n}\n","import { attach, createEffect, createEvent, forward } from 'effector'\nimport { toast } from 'react-toastify'\n\nimport { $theme } from './themes'\nimport { variablesChangeBatch } from './designTokens'\nimport { downloadTheme } from '../api/downloadTheme'\nimport { $yamlText } from './yaml'\nimport { ThemeType } from '../types'\n\ntype UploadRawTokensFxPropsType = {\n  theme: ThemeType\n  tokens: string\n}\n\nexport const rawTokensUpload = createEvent()\n\n// TODO:       yaml.ts\nexport const $tokensText = $yamlText.map((value) => value)\n\nexport const uploadRawTokensFx = attach({\n  source: {\n    theme: $theme,\n    tokens: $tokensText,\n  },\n  mapParams: (_, { theme, tokens }) =>\n    ({\n      theme,\n      tokens,\n    } as UploadRawTokensFxPropsType),\n  effect: createEffect(({ tokens, theme: { mappings } }: UploadRawTokensFxPropsType) => {\n    return downloadTheme(tokens, mappings)\n  }),\n})\n\nexport const $uploadRawTokensLoading = uploadRawTokensFx.pending\n\nexport const tokensUpdate = createEvent<string>()\n\n$tokensText.on(tokensUpdate, (_, payload) => payload)\n\nuploadRawTokensFx.doneData.watch((tokens) => {\n  variablesChangeBatch(tokens)\n  toast.success('Tokens successfully uploaded')\n})\n\nuploadRawTokensFx.failData.watch((error) => toast.error(error.message, { autoClose: 5000 }))\n\nforward({\n  from: rawTokensUpload,\n  to: uploadRawTokensFx,\n})\n","import { VariablesType } from '../types'\n\nexport const uploadTokens = async (theme: string, tokens: VariablesType[]) => {\n  const response = await fetch('https://functions.yandexcloud.net/d4emk05t1v8gvek4q8l0', {\n    method: 'POST',\n    body: JSON.stringify({\n      theme,\n      tokens,\n    }),\n  })\n\n  const json = await response.json()\n\n  if (!response.ok) {\n    throw new Error(json.errorMessage)\n  }\n\n  return json.tokensHash\n}\n","import { attach, createEffect, createEvent, forward } from 'effector'\nimport copy from 'copy-to-clipboard'\nimport { toast } from 'react-toastify'\n\nimport { $themeName } from './themes'\nimport { $hasTokens, $listDesignTokens } from './designTokens'\nimport { tokensQueryParameterUpdate } from './query'\nimport { uploadTokens } from '../api/uploadTokens'\n\nimport { ThemeNamesType, VariablesType } from '../types'\n\ntype ShareTokensFxPropsType = {\n  themeName: ThemeNamesType\n  tokens: VariablesType[]\n}\n\nexport const tokensShare = createEvent()\n\nexport const shareTokens = attach({\n  source: {\n    themeName: $themeName,\n    tokens: $listDesignTokens,\n  },\n  mapParams: (_: any, { themeName, tokens }) => ({\n    themeName,\n    tokens,\n  }),\n  effect: createEffect(({ themeName, tokens }: ShareTokensFxPropsType) => {\n    if (tokens.length === 0) {\n      return\n    }\n\n    return uploadTokens(themeName, tokens)\n  }),\n})\n\nexport const $shareTokensLoading = shareTokens.pending\nexport const $shareTokensDisabled = $hasTokens.map((hasTokens) => !hasTokens)\n\nshareTokens.doneData.watch((tokensHash) => {\n  if (!tokensHash) {\n    return\n  }\n\n  tokensQueryParameterUpdate(tokensHash)\n  copy(window.location.href)\n  toast.success('Link successfully copied to clipboard')\n})\n\nshareTokens.failData.watch((error) => toast.error(error, { autoClose: 5000 }))\n\nforward({\n  from: tokensShare,\n  to: shareTokens,\n})\n","import { useStore } from 'effector-react'\nimport React, { ChangeEvent, FC, useState } from 'react'\nimport { Button, Switch, Textarea } from 'react-figma-components'\nimport { $cssText } from '../../../model/css'\nimport { $isFigma } from '../../../model/view'\n\nimport { rawTokensUpload, tokensUpdate, $tokensText } from '../../../model/tokensText'\nimport { tokensShare, $shareTokensDisabled } from '../../../model/share-tokens'\n\nimport './Tokens.css'\n\nexport type TokensProps = {}\n\nexport const Tokens: FC<TokensProps> = (props) => {\n  const [format, setFormat] = useState<'yaml' | 'css'>('yaml')\n  const tokensText = useStore($tokensText)\n  const cssText = useStore($cssText)\n  const isFigma = useStore($isFigma)\n  const shareDisabled = useStore($shareTokensDisabled)\n\n  const handleSwitchChange = () =>\n    setFormat((format) => {\n      switch (format) {\n        case 'yaml':\n          return 'css'\n        case 'css':\n          return 'yaml'\n        default:\n          return 'css'\n      }\n    })\n\n  const handleTextareaChange = (event: ChangeEvent<HTMLInputElement>) => {\n    tokensUpdate(event.target.value)\n  }\n\n  const handleUploadClick = () => {\n    rawTokensUpload()\n  }\n\n  const handlePushToCanvasClick = () => {}\n\n  return (\n    <div className=\"Tokens\">\n      <div className=\"Tokens-Header\">\n        <span>View code:</span> YAML\n        <Switch\n          checked={format !== 'yaml'}\n          onChange={handleSwitchChange}\n          className=\"Tokens-Switch\"\n        />\n        CSS\n      </div>\n      <Textarea\n        value={format === 'yaml' ? tokensText : cssText}\n        onChange={handleTextareaChange}\n        className=\"Tokens-Textinput\"\n        placeholder=\"Tokens\"\n      />\n      <div className=\"Tokens-Buttons\">\n        <Button\n          view=\"tertiary\"\n          onClick={tokensShare}\n          disabled={shareDisabled}\n          onPress={tokensShare}\n          data-testid=\"share=button\"\n        >\n          Share Theme\n        </Button>\n        <Button view=\"secondary\" onPress={handleUploadClick}>\n          Upload Theme\n        </Button>\n        {isFigma && (\n          <Button view=\"primary\" onPress={handlePushToCanvasClick}>\n            Push all to canvas\n          </Button>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React, { FC, useEffect } from 'react'\n\nimport { Tokens } from './Tokens'\nimport { isVariablesChangedReset } from '../../model/designTokens'\n\nimport './ChangesPage.css'\n\nexport type ChangesPageProps = {}\n\nexport const ChangesPage: FC<ChangesPageProps> = () => {\n  useEffect(isVariablesChangedReset, [])\n\n  return (\n    <div className=\"ChangesPage\">\n      <Tokens />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useGate } from 'effector-react'\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { TabsPanes } from '@yandex-lego/components/TabsPanes/desktop/bundle'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\n\nimport { ToastContainer, cssTransition } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport 'animate.css'\nimport '@fontsource/inter'\n\nimport { Header, ActiveTabType } from './components/Header'\nimport { Divider } from './lib/lego/Divider'\n\nimport { ComponentsPage } from './pages/componentsPage'\nimport { ChangesPage } from './pages/changesPage'\n\nimport { variablesInitializationGate } from './model/designTokens'\nimport { viewInitializationGate } from './model/view'\n\nimport './App.css'\nimport './Toastify.css'\n\nconfigureRootTheme({ theme })\n\nconst Fade = cssTransition({\n  enter: 'animate__animated animate__fadeIn',\n  exit: 'animate__animated animate__fadeOut',\n})\n\nexport default () => {\n  const [activeTab, setActiveTab] = useState<ActiveTabType>('components')\n\n  useGate(variablesInitializationGate)\n  useGate(viewInitializationGate)\n\n  // useEffect(() => {\n  //   window.onbeforeunload = (e: BeforeUnloadEvent) => {\n  //     e.preventDefault(\n  //     return ''\n  //   }\n  // }, [])\n\n  return (\n    <div className=\"Site\">\n      <Header activeTab={activeTab} setActiveTab={setActiveTab} />\n      <Divider />\n      <TabsPanes\n        activePane={activeTab}\n        panes={[\n          { id: 'components', content: <ComponentsPage /> },\n          { id: 'changes', content: <ChangesPage /> },\n        ]}\n      />\n      <ToastContainer\n        transition={Fade}\n        autoClose={2000}\n        position=\"bottom-center\"\n        // closeOnClick={false}\n        closeButton={false}\n        limit={1}\n        hideProgressBar={true}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","export * from './TabsMenu'\n","import { compose, composeU } from '@bem-react/core'\n\n// base\nimport { TabsMenu as TabsMenuCommon } from '@yandex-lego/components/TabsMenu'\n// _layout\nimport { withLayoutHoriz } from '@yandex-lego/components/TabsMenu/_layout/TabsMenu_layout_horiz'\n// _size\nimport { withSizeM } from '@yandex-lego/components/TabsMenu/_size/TabsMenu_size_m'\nimport { withSizeS } from '@yandex-lego/components/TabsMenu/_size/TabsMenu_size_s'\n// _view\nimport { withViewFigma } from './_view/TabsMenu_view_figma'\n// _adaptive\nimport { withAdaptive } from '@yandex-lego/components/TabsMenu/_adaptive/TabsMenu_adaptive@desktop'\n\nexport * from '@yandex-lego/components/TabsMenu/desktop/bundle'\n\nexport const TabsMenu = compose(\n  withLayoutHoriz,\n  withViewFigma,\n  withAdaptive,\n  composeU(withSizeM, withSizeS),\n)(TabsMenuCommon)\n\nTabsMenu.defaultProps = {\n  view: 'figma',\n  layout: 'horiz',\n  size: 'm',\n}\n","import { compose } from '@bem-react/core'\n\n// base\nimport {\n  Tooltip as TooltipDesktop,\n  TooltipStateful as TooltipStatefulDesktop,\n} from '@yandex-lego/components/Tooltip/Tooltip@desktop'\n\n// _size\nimport { withSizeS } from '@yandex-lego/components/Tooltip/_size/Tooltip_size_s'\n// _view\nimport { withViewFigma } from './_view/Tooltip_view_figma'\n\nimport { withDark } from './_dark/Tooltip_dark'\n\nexport * from '@yandex-lego/components/Tooltip/Tooltip@desktop'\n\nconst enhance = compose(withViewFigma, withDark, withSizeS)\n\nexport const Tooltip = enhance(TooltipDesktop)\nexport const TooltipStateful = enhance(TooltipStatefulDesktop)\n\nTooltip.defaultProps = {\n  hasTail: true,\n  view: 'figma',\n  size: 's',\n  direction: 'left',\n}\n\nTooltipStateful.defaultProps = {\n  hasTail: true,\n  view: 'figma',\n  size: 's',\n  direction: 'left',\n}\n","import { withBemMod } from '@bem-react/core'\n\nimport './TabsMenu_view_figma.css'\n\nexport type TabsMenuViewFigmaProps = {\n  /**\n   *   .\n   */\n  view?: 'figma'\n}\n\n/**\n * ,     .\n * @param {TabsMenuViewFigmaProps} props\n */\nexport const withViewFigma = withBemMod<TabsMenuViewFigmaProps>('TabsMenu', {\n  view: 'figma',\n})\n","import { withBemMod } from '@bem-react/core'\n\nimport './Tooltip_view_figma.css'\n\nexport type TooltipViewFigmaProps = {\n  /**\n   *   .\n   */\n  view?: 'figma'\n}\n\n/**\n * ,     .\n * @param {TooltipViewFigmaProps} props\n */\nexport const withViewFigma = withBemMod<TooltipViewFigmaProps>('Tooltip', {\n  view: 'figma',\n})\n","import { withBemMod } from '@bem-react/core'\n\nimport './Tooltip_dark.css'\n\nexport type TooltipDarkProps = {\n  /**\n   *   .\n   */\n  dark?: boolean\n}\n\n/**\n * ,     .\n * @param {TooltipDarkProps} props\n */\nexport const withDark = withBemMod<TooltipDarkProps>('Tooltip', { dark: true })\n","export * from './Tooltip'\n"],"sourceRoot":""}